import{a as Qt,b as ye,c as T,d as be,e as ne,f as ei,g as ze,h as Ie,i as Ce,k as ti,l as ii}from"./chunk-OA7LMJ76.js";import{a as Jt,b as me}from"./chunk-YNYP3OTC.js";import{a as At,b as jt,c as De,d as ke,e as we,f as Me,g as Ee,h as Kt,i as je,j as Ke,k as Ge,l as Gt,m as Ht,n as Yt,o as ie,p as zt}from"./chunk-BSEGO7IJ.js";import{a as he}from"./chunk-N2W6DWYQ.js";import{a as x}from"./chunk-JYL5VZXP.js";import{a as Zt}from"./chunk-PINGEYOB.js";import{b as Nt}from"./chunk-AGTGVVTX.js";import{a as ai,b as oi,h as qe}from"./chunk-SENMOW3R.js";import{a as qt,b as Xt,c as ee,d as se,e as Y,f as Se,g as kt,h as V,i as Ue,j as ni,k as ri}from"./chunk-QB5SOPTM.js";import{b as ve,c as X,d as He,h as ce,i as O,j as Ye,k as Ut,l as A,q as $t,r as Re}from"./chunk-IGED4TOA.js";import{M as R,N as y,fa as Le}from"./chunk-Q6UHPJXR.js";import{$b as Bt,Ca as o,Jb as g,Ka as S,Kb as oe,Oa as h,R as L,Sb as F,Tb as N,Ua as c,Va as Ft,Vb as de,X as d,Xa as Ae,Ya as p,ab as r,bb as a,c as Dt,ca as Ot,cb as f,cc as Ne,da as G,db as Wt,ea as H,eb as Vt,fb as re,gb as D,hb as u,ob as s,pb as w,qb as v,rb as J,sa as C,sb as $,tb as Z,u as M,vb as ae,wb as te,yb as U,z as E,zb as q}from"./chunk-7TD4AYMG.js";import{a as Lt,b as Rt,c as It}from"./chunk-2VMXMS7J.js";var Ii={};function xe(){return Ii}function fe(i,e){let t=xe(),n=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,l=O(i,e?.in),m=l.getDay(),b=(m<n?7:0)+m-n;return l.setDate(l.getDate()-b),l.setHours(0,0,0,0),l}function Te(i,e){return fe(i,Rt(Lt({},e),{weekStartsOn:1}))}function Xe(i,e){let t=O(i,e?.in),n=t.getFullYear(),l=ce(t,0);l.setFullYear(n+1,0,4),l.setHours(0,0,0,0);let m=Te(l),b=ce(t,0);b.setFullYear(n,0,4),b.setHours(0,0,0,0);let k=Te(b);return t.getTime()>=m.getTime()?n+1:t.getTime()>=k.getTime()?n:n-1}function si(i,e){let t=Xe(i,e),n=ce(e?.in||i,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Te(n)}function li(i){return i instanceof Date||typeof i=="object"&&Object.prototype.toString.call(i)==="[object Date]"}function di(i){return!(!li(i)&&typeof i!="number"||isNaN(+O(i)))}function ci(i,e){let t=O(i,e?.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}var Oi={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},mi=(i,e,t)=>{let n,l=Oi[i];return typeof l=="string"?n=l:e===1?n=l.one:n=l.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function Qe(i){return(e={})=>{let t=e.width?String(e.width):i.defaultWidth;return i.formats[t]||i.formats[i.defaultWidth]}}var Fi={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Wi={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Vi={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},pi={date:Qe({formats:Fi,defaultWidth:"full"}),time:Qe({formats:Wi,defaultWidth:"full"}),dateTime:Qe({formats:Vi,defaultWidth:"full"})};var Bi={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ui=(i,e,t,n)=>Bi[i];function Oe(i){return(e,t)=>{let n=t?.context?String(t.context):"standalone",l;if(n==="formatting"&&i.formattingValues){let b=i.defaultFormattingWidth||i.defaultWidth,k=t?.width?String(t.width):b;l=i.formattingValues[k]||i.formattingValues[b]}else{let b=i.defaultWidth,k=t?.width?String(t.width):i.defaultWidth;l=i.values[k]||i.values[b]}let m=i.argumentCallback?i.argumentCallback(e):e;return l[m]}}var Ni={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Ai={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ji={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Ki={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Gi={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Hi={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Yi=(i,e)=>{let t=Number(i),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},fi={ordinalNumber:Yi,era:Oe({values:Ni,defaultWidth:"wide"}),quarter:Oe({values:Ai,defaultWidth:"wide",argumentCallback:i=>i-1}),month:Oe({values:ji,defaultWidth:"wide"}),day:Oe({values:Ki,defaultWidth:"wide"}),dayPeriod:Oe({values:Gi,defaultWidth:"wide",formattingValues:Hi,defaultFormattingWidth:"wide"})};function Fe(i){return(e,t={})=>{let n=t.width,l=n&&i.matchPatterns[n]||i.matchPatterns[i.defaultMatchWidth],m=e.match(l);if(!m)return null;let b=m[0],k=n&&i.parsePatterns[n]||i.parsePatterns[i.defaultParseWidth],j=Array.isArray(k)?Ui(k,B=>B.test(b)):zi(k,B=>B.test(b)),Q;Q=i.valueCallback?i.valueCallback(j):j,Q=t.valueCallback?t.valueCallback(Q):Q;let K=e.slice(b.length);return{value:Q,rest:K}}}function zi(i,e){for(let t in i)if(Object.prototype.hasOwnProperty.call(i,t)&&e(i[t]))return t}function Ui(i,e){for(let t=0;t<i.length;t++)if(e(i[t]))return t}function gi(i){return(e,t={})=>{let n=e.match(i.matchPattern);if(!n)return null;let l=n[0],m=e.match(i.parsePattern);if(!m)return null;let b=i.valueCallback?i.valueCallback(m[0]):m[0];b=t.valueCallback?t.valueCallback(b):b;let k=e.slice(l.length);return{value:b,rest:k}}}var qi=/^(\d+)(th|st|nd|rd)?/i,Xi=/\d+/i,Qi={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Ji={any:[/^b/i,/^(a|c)/i]},$i={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Zi={any:[/1/i,/2/i,/3/i,/4/i]},en={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},tn={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},nn={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},rn={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},an={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},on={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},vi={ordinalNumber:gi({matchPattern:qi,parsePattern:Xi,valueCallback:i=>parseInt(i,10)}),era:Fe({matchPatterns:Qi,defaultMatchWidth:"wide",parsePatterns:Ji,defaultParseWidth:"any"}),quarter:Fe({matchPatterns:$i,defaultMatchWidth:"wide",parsePatterns:Zi,defaultParseWidth:"any",valueCallback:i=>i+1}),month:Fe({matchPatterns:en,defaultMatchWidth:"wide",parsePatterns:tn,defaultParseWidth:"any"}),day:Fe({matchPatterns:nn,defaultMatchWidth:"wide",parsePatterns:rn,defaultParseWidth:"any"}),dayPeriod:Fe({matchPatterns:an,defaultMatchWidth:"any",parsePatterns:on,defaultParseWidth:"any"})};var wt={code:"en-US",formatDistance:mi,formatLong:pi,formatRelative:ui,localize:fi,match:vi,options:{weekStartsOn:0,firstWeekContainsDate:1}};function hi(i,e){let t=O(i,e?.in);return qt(t,ci(t))+1}function yi(i,e){let t=O(i,e?.in),n=+Te(t)-+si(t);return Math.round(n/He)+1}function Je(i,e){let t=O(i,e?.in),n=t.getFullYear(),l=xe(),m=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??l.firstWeekContainsDate??l.locale?.options?.firstWeekContainsDate??1,b=ce(e?.in||i,0);b.setFullYear(n+1,0,m),b.setHours(0,0,0,0);let k=fe(b,e),j=ce(e?.in||i,0);j.setFullYear(n,0,m),j.setHours(0,0,0,0);let Q=fe(j,e);return+t>=+k?n+1:+t>=+Q?n:n-1}function bi(i,e){let t=xe(),n=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,l=Je(i,e),m=ce(e?.in||i,0);return m.setFullYear(l,0,n),m.setHours(0,0,0,0),fe(m,e)}function Ci(i,e){let t=O(i,e?.in),n=+fe(t,e)-+bi(t,e);return Math.round(n/He)+1}function _(i,e){let t=i<0?"-":"",n=Math.abs(i).toString().padStart(e,"0");return t+n}var ge={y(i,e){let t=i.getFullYear(),n=t>0?t:1-t;return _(e==="yy"?n%100:n,e.length)},M(i,e){let t=i.getMonth();return e==="M"?String(t+1):_(t+1,2)},d(i,e){return _(i.getDate(),e.length)},a(i,e){let t=i.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(i,e){return _(i.getHours()%12||12,e.length)},H(i,e){return _(i.getHours(),e.length)},m(i,e){return _(i.getMinutes(),e.length)},s(i,e){return _(i.getSeconds(),e.length)},S(i,e){let t=e.length,n=i.getMilliseconds(),l=Math.trunc(n*Math.pow(10,t-3));return _(l,e.length)}};var We={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Mt={G:function(i,e,t){let n=i.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(i,e,t){if(e==="yo"){let n=i.getFullYear(),l=n>0?n:1-n;return t.ordinalNumber(l,{unit:"year"})}return ge.y(i,e)},Y:function(i,e,t,n){let l=Je(i,n),m=l>0?l:1-l;if(e==="YY"){let b=m%100;return _(b,2)}return e==="Yo"?t.ordinalNumber(m,{unit:"year"}):_(m,e.length)},R:function(i,e){let t=Xe(i);return _(t,e.length)},u:function(i,e){let t=i.getFullYear();return _(t,e.length)},Q:function(i,e,t){let n=Math.ceil((i.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return _(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(i,e,t){let n=Math.ceil((i.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return _(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(i,e,t){let n=i.getMonth();switch(e){case"M":case"MM":return ge.M(i,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(i,e,t){let n=i.getMonth();switch(e){case"L":return String(n+1);case"LL":return _(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(i,e,t,n){let l=Ci(i,n);return e==="wo"?t.ordinalNumber(l,{unit:"week"}):_(l,e.length)},I:function(i,e,t){let n=yi(i);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):_(n,e.length)},d:function(i,e,t){return e==="do"?t.ordinalNumber(i.getDate(),{unit:"date"}):ge.d(i,e)},D:function(i,e,t){let n=hi(i);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):_(n,e.length)},E:function(i,e,t){let n=i.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(i,e,t,n){let l=i.getDay(),m=(l-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(m);case"ee":return _(m,2);case"eo":return t.ordinalNumber(m,{unit:"day"});case"eee":return t.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(l,{width:"short",context:"formatting"});case"eeee":default:return t.day(l,{width:"wide",context:"formatting"})}},c:function(i,e,t,n){let l=i.getDay(),m=(l-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(m);case"cc":return _(m,e.length);case"co":return t.ordinalNumber(m,{unit:"day"});case"ccc":return t.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(l,{width:"narrow",context:"standalone"});case"cccccc":return t.day(l,{width:"short",context:"standalone"});case"cccc":default:return t.day(l,{width:"wide",context:"standalone"})}},i:function(i,e,t){let n=i.getDay(),l=n===0?7:n;switch(e){case"i":return String(l);case"ii":return _(l,e.length);case"io":return t.ordinalNumber(l,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(i,e,t){let l=i.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(i,e,t){let n=i.getHours(),l;switch(n===12?l=We.noon:n===0?l=We.midnight:l=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(i,e,t){let n=i.getHours(),l;switch(n>=17?l=We.evening:n>=12?l=We.afternoon:n>=4?l=We.morning:l=We.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(i,e,t){if(e==="ho"){let n=i.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return ge.h(i,e)},H:function(i,e,t){return e==="Ho"?t.ordinalNumber(i.getHours(),{unit:"hour"}):ge.H(i,e)},K:function(i,e,t){let n=i.getHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):_(n,e.length)},k:function(i,e,t){let n=i.getHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):_(n,e.length)},m:function(i,e,t){return e==="mo"?t.ordinalNumber(i.getMinutes(),{unit:"minute"}):ge.m(i,e)},s:function(i,e,t){return e==="so"?t.ordinalNumber(i.getSeconds(),{unit:"second"}):ge.s(i,e)},S:function(i,e){return ge.S(i,e)},X:function(i,e,t){let n=i.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return xi(n);case"XXXX":case"XX":return _e(n);case"XXXXX":case"XXX":default:return _e(n,":")}},x:function(i,e,t){let n=i.getTimezoneOffset();switch(e){case"x":return xi(n);case"xxxx":case"xx":return _e(n);case"xxxxx":case"xxx":default:return _e(n,":")}},O:function(i,e,t){let n=i.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Si(n,":");case"OOOO":default:return"GMT"+_e(n,":")}},z:function(i,e,t){let n=i.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Si(n,":");case"zzzz":default:return"GMT"+_e(n,":")}},t:function(i,e,t){let n=Math.trunc(+i/1e3);return _(n,e.length)},T:function(i,e,t){return _(+i,e.length)}};function Si(i,e=""){let t=i>0?"-":"+",n=Math.abs(i),l=Math.trunc(n/60),m=n%60;return m===0?t+String(l):t+String(l)+e+_(m,2)}function xi(i,e){return i%60===0?(i>0?"-":"+")+_(Math.abs(i)/60,2):_e(i,e)}function _e(i,e=""){let t=i>0?"-":"+",n=Math.abs(i),l=_(Math.trunc(n/60),2),m=_(n%60,2);return t+l+e+m}var Pi=(i,e)=>{switch(i){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Ti=(i,e)=>{switch(i){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},sn=(i,e)=>{let t=i.match(/(P+)(p+)?/)||[],n=t[1],l=t[2];if(!l)return Pi(i,e);let m;switch(n){case"P":m=e.dateTime({width:"short"});break;case"PP":m=e.dateTime({width:"medium"});break;case"PPP":m=e.dateTime({width:"long"});break;case"PPPP":default:m=e.dateTime({width:"full"});break}return m.replace("{{date}}",Pi(n,e)).replace("{{time}}",Ti(l,e))},_i={p:Ti,P:sn};var ln=/^D+$/,dn=/^Y+$/,cn=["D","DD","YY","YYYY"];function Di(i){return ln.test(i)}function ki(i){return dn.test(i)}function wi(i,e,t){let n=mn(i,e,t);if(console.warn(n),cn.includes(i))throw new RangeError(n)}function mn(i,e,t){let n=i[0]==="Y"?"years":"days of the month";return`Use \`${i.toLowerCase()}\` instead of \`${i}\` (in \`${e}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}var pn=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,un=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,fn=/^'([^]*?)'?$/,gn=/''/g,vn=/[a-zA-Z]/;function le(i,e,t){let n=xe(),l=t?.locale??n.locale??wt,m=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,b=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,k=O(i,t?.in);if(!di(k))throw new RangeError("Invalid time value");let j=e.match(un).map(K=>{let B=K[0];if(B==="p"||B==="P"){let _t=_i[B];return _t(K,l.formatLong)}return K}).join("").match(pn).map(K=>{if(K==="''")return{isToken:!1,value:"'"};let B=K[0];if(B==="'")return{isToken:!1,value:hn(K)};if(Mt[B])return{isToken:!0,value:K};if(B.match(vn))throw new RangeError("Format string contains an unescaped latin alphabet character `"+B+"`");return{isToken:!1,value:K}});l.localize.preprocessor&&(j=l.localize.preprocessor(k,j));let Q={firstWeekContainsDate:m,weekStartsOn:b,locale:l};return j.map(K=>{if(!K.isToken)return K.value;let B=K.value;(!t?.useAdditionalWeekYearTokens&&ki(B)||!t?.useAdditionalDayOfYearTokens&&Di(B))&&wi(B,e,String(i));let _t=Mt[B[0]];return _t(k,B,l.localize,Q)}).join("")}function hn(i){let e=i.match(fn);return e?e[1].replace(gn,"'"):i}function Mi(i,e){return+O(i)>+O(e)}var W=class i{worker;pitDataService=d(Ce);driverConfigService=d(Jt);pitConfigService=d(me);activePit=C(void 0);activePitRemainingMilliseconds=C(0);lastRefuelPit=C(void 0);lastInterphoneChangePit=C(void 0);completedDriverChanges=C(0);lastPit=C(void 0);remainingDriverChanges=C(0);pitAVGMilliseconds=C(0);remainingMinTotalPitMilliseconds=C(0);lastKartChangePit=C(void 0);completedKartChanges=C(0);constructor(){typeof Worker<"u"&&(this.worker=new Worker(new URL("worker-FFT5GY6F.js",import.meta.url),{type:"module"}),this.worker.onmessage=({data:e})=>{this.activePit.set(e.activePit),this.activePitRemainingMilliseconds.set(e.activePitRemainingMilliseconds),this.lastRefuelPit.set(e.lastRefuelPit),this.lastInterphoneChangePit.set(e.lastInterphoneChangePit),this.lastPit.set(e.lastPit),this.completedDriverChanges.set(e.completedDriverChanges),this.remainingDriverChanges.set(e.remainingDriverChanges),this.pitAVGMilliseconds.set(e.pitAVGMilliseconds),this.remainingMinTotalPitMilliseconds.set(e.remainingMinTotalPitMilliseconds),this.lastKartChangePit.set(e.lastKartChangePit),this.completedKartChanges.set(e.completedKartChanges)}),M({pits:y(this.pitDataService.pits),driverConfig:y(this.driverConfigService.driverConfig),pitConfig:y(this.pitConfigService.pitConfig),ping:E(1e3)}).pipe(R()).subscribe(({pits:e,driverConfig:t,pitConfig:n})=>{this.worker&&t&&n&&this.worker.postMessage({pits:e,driverConfig:t,pitConfig:n})})}static \u0275fac=function(t){return new(t||i)};static \u0275prov=L({token:i,factory:i.\u0275fac,providedIn:"root"})};var pe=class i{raceService=d(A);pitDataService=d(Ce);tyreConfigService=d(Ie);worker;openingTime=C(void 0);closingTime=C(void 0);tyreChangeWindowOpen=C(!1);remainingTyreChange=C(0);constructor(){typeof Worker<"u"&&(this.worker=new Worker(new URL("worker-HNAXSM3D.js",import.meta.url),{type:"module"}),this.worker.onmessage=({data:e})=>{this.openingTime.set(e.openingTime),this.closingTime.set(e.closingTime),this.tyreChangeWindowOpen.set(e.tyreChangeWindowOpen),this.remainingTyreChange.set(e.remainingTyreChange)}),M({pits:y(this.pitDataService.pits),race:y(this.raceService.activeRace),tyreConfig:y(this.tyreConfigService.tyreConfig),ping:E(1e3)}).pipe(R()).subscribe(({pits:e,race:t,tyreConfig:n})=>{this.worker&&n&&this.worker.postMessage({pits:e,race:t,tyreConfig:n})})}static \u0275fac=function(t){return new(t||i)};static \u0275prov=L({token:i,factory:i.\u0275fac,providedIn:"root"})};var ue=class i{raceService=d(A);pitService=d(W);raceConfigService=d(X);lapConfigService=d(ve);pitConfigService=d(me);tyreService=d(pe);worker;optimizedStint=C(void 0);constructor(){typeof Worker<"u"&&(this.worker=new Worker(new URL("worker-5EKEOYRH.js",import.meta.url),{type:"module"}),this.worker.onmessage=({data:e})=>{this.optimizedStint.set(e.optimizedStint)}),M({activeRace:y(this.raceService.activeRace),willEndRaceDate:y(this.raceService.willEndRaceDate),remainingDriverChanges:y(this.pitService.remainingDriverChanges),remainingTyreChange:y(this.tyreService.remainingTyreChange),lastPit:y(this.pitService.lastPit),lapConfig:y(this.lapConfigService.lapConfig),raceConfig:y(this.raceConfigService.raceConfig),pitConfig:y(this.pitConfigService.pitConfig),ping:E(1e3)}).pipe(R()).subscribe(({activeRace:e,willEndRaceDate:t,remainingDriverChanges:n,remainingTyreChange:l,lastPit:m,lapConfig:b,raceConfig:k,pitConfig:j})=>{this.worker&&k&&b&&j&&this.worker.postMessage({activeRace:e,willEndRaceDate:t,remainingDriverChanges:n,remainingTyreChange:l,lastPit:m,raceConfig:k,lapConfig:b,pitConfig:j})})}static \u0275fac=function(t){return new(t||i)};static \u0275prov=L({token:i,factory:i.\u0275fac,providedIn:"root"})};var z=class i{worker;stintDataService=d(be);stintOptimizerService=d(ue);lapConfigService=d(ve);lapService=d(Re);activeStint=C(void 0);activeStintTimeOnTrack=C(0);activeStintLaps=C(0);activeStintRemainingTimeOnTrack=C(0);activeStintRemainingLaps=C(0);activeStintGainedTimeOnTrack=C(0);activeStintGainedLaps=C(0);stintAVGMilliseconds=C(0);stintPaceById=C(new Map);stintBestLapById=C(new Map);constructor(){typeof Worker<"u"&&(this.worker=new Worker(new URL("worker-GS5THUR4.js",import.meta.url),{type:"module"}),this.worker.onmessage=({data:e})=>{this.activeStint.set(e.activeStint),this.activeStintTimeOnTrack.set(e.activeStintTimeOnTrack),this.activeStintLaps.set(e.activeStintLaps),this.activeStintRemainingTimeOnTrack.set(e.activeStintRemainingTimeOnTrack),this.activeStintRemainingLaps.set(e.activeStintRemainingLaps),this.activeStintGainedTimeOnTrack.set(e.activeStintGainedTimeOnTrack),this.activeStintGainedLaps.set(e.activeStintGainedLaps),this.stintAVGMilliseconds.set(e.stintAVGMilliseconds),this.stintPaceById.set(e.stintPaceById),this.stintBestLapById.set(e.stintBestLapById)}),M({stints:y(this.stintDataService.stints),optimizedStint:y(this.stintOptimizerService.optimizedStint),lapConfig:y(this.lapConfigService.lapConfig),validTeamPaceLaps:y(this.lapService.validTeamPaceLaps),ping:E(1e3)}).pipe(R()).subscribe(({stints:e,optimizedStint:t,lapConfig:n,validTeamPaceLaps:l})=>{this.worker&&n&&this.worker.postMessage({stints:e,optimizedStint:t,lapConfig:n,validTeamPaceLaps:l})})}static \u0275fac=function(t){return new(t||i)};static \u0275prov=L({token:i,factory:i.\u0275fac,providedIn:"root"})};function yn(i,e){if(i&1&&f(0,"app-chip",8)(1,"app-chip",8),i&2){let t=u(2);c("text","Remaining: "+t.activeStintRemainingTimeOnTrackString())("backgroundColor","bg-yellow-500"),o(),c("text","Laps: "+t.activeStintRemainingLaps())("backgroundColor","bg-yellow-500")}}function bn(i,e){if(i&1&&f(0,"app-chip",8)(1,"app-chip",8),i&2){let t=u(2);c("text","Gained: "+t.activeStintGainedTimeOnTrackString())("backgroundColor","bg-green-500"),o(),c("text","Laps: "+t.activeStintGainedLaps())("backgroundColor","bg-green-500")}}function Cn(i,e){if(i&1&&h(0,yn,2,4)(1,bn,2,4),i&2){let t=u();p(t.activeStintRemainingTimeOnTrack()>0?0:1)}}function Sn(i,e){if(i&1&&s(0),i&2){let t=u();v(" ",t.activeStintRemainingTimeOnTrackString()," ")}}function xn(i,e){i&1&&s(0," --:--:-- ")}function Pn(i,e){if(i&1&&s(0),i&2){let t=u();v(" ",t.activeStintRemainingLaps()," ")}}function Tn(i,e){i&1&&s(0," 0 ")}function _n(i,e){if(i&1&&s(0),i&2){let t=u();v(" ",t.activeStintGainedLaps()," ")}}function Dn(i,e){i&1&&s(0," 0 ")}var $e=class i{stintService=d(z);activeStint=this.stintService.activeStint;activeStintRemainingTimeOnTrack=this.stintService.activeStintRemainingTimeOnTrack;activeStintTimeOnTrackString=g(()=>Y(this.stintService.activeStintTimeOnTrack()));activeStintRemainingTimeOnTrackString=g(()=>Y(this.stintService.activeStintRemainingTimeOnTrack()));activeStintGainedTimeOnTrackString=g(()=>Y(this.stintService.activeStintGainedTimeOnTrack()));activeStintLaps=this.stintService.activeStintLaps;activeStintRemainingLaps=this.stintService.activeStintRemainingLaps;activeStintGainedLaps=this.stintService.activeStintGainedLaps;static \u0275fac=function(t){return new(t||i)};static \u0275cmp=S({type:i,selectors:[["app-active-stint"]],decls:42,vars:8,consts:[["title","\u{1F3CE}\uFE0F \u{1F4A8} Active stint",3,"initiallyOpen"],["slot","header-right-content",1,"flex","items-center","gap-1"],["slot","body-content",1,"flex","flex-col","gap-2"],[1,"flex","justify-between"],[1,"text-neutral-500","dark:text-neutral-400"],[1,"text-neutral-900","dark:text-neutral-100","font-mono"],[1,"text-neutral-500","dark:text-neutral-400","text-right"],[1,"text-neutral-900","dark:text-neutral-100","font-mono","text-right"],[3,"text","backgroundColor"]],template:function(t,n){t&1&&(r(0,"app-card",0)(1,"div",1),h(2,Cn,2,1),a(),r(3,"div",2)(4,"div",3)(5,"div")(6,"div",4),s(7,"Time on track"),a(),r(8,"div",5),s(9),a()(),r(10,"div")(11,"div",6),s(12,"Laps"),a(),r(13,"div",7),s(14),a()()(),f(15,"hr"),r(16,"div",3)(17,"div")(18,"div",4),s(19,"Remaining time on track"),a(),r(20,"div",5),h(21,Sn,1,1)(22,xn,1,0),a()(),r(23,"div")(24,"div",6),s(25,"Remaining laps"),a(),r(26,"div",7),h(27,Pn,1,1)(28,Tn,1,0),a()()(),f(29,"hr"),r(30,"div",3)(31,"div")(32,"div",4),s(33,"Gained time on track"),a(),r(34,"div",5),s(35),a()(),r(36,"div")(37,"div",6),s(38,"Gained laps"),a(),r(39,"div",7),h(40,_n,1,1)(41,Dn,1,0),a()()()()()),t&2&&(c("initiallyOpen",!0),o(2),p(n.activeStint()?2:-1),o(7),v(" ",n.activeStintTimeOnTrackString()," "),o(5),v(" ",n.activeStintLaps()," "),o(7),p(n.activeStint()?21:22),o(6),p(n.activeStint()?27:28),o(8),v(" ",n.activeStintGainedTimeOnTrackString()," "),o(5),p(n.activeStint()?40:41))},dependencies:[x,T],encapsulation:2})};var Ze=class i{stintDataService=d(be);worker;deltaStints=C([]);totalDeltaMilliseconds=C(0);deltaMilliseconds=C(0);constructor(){typeof Worker<"u"&&(this.worker=new Worker(new URL("worker-YX5K7NIL.js",import.meta.url),{type:"module"}),this.worker.onmessage=({data:e})=>{this.deltaStints.set(e.deltaStints),this.totalDeltaMilliseconds.set(e.deltaMilliseconds),this.deltaMilliseconds.set(e.deltaMilliseconds)}),M({stints:y(this.stintDataService.stints),ping:E(1e3)}).pipe(R()).subscribe(({stints:e})=>{this.worker&&this.worker.postMessage({stints:e})})}static \u0275fac=function(t){return new(t||i)};static \u0275prov=L({token:i,factory:i.\u0275fac,providedIn:"root"})};var kn=(i,e)=>({"bg-yellow-500 text-neutral-100":i,"bg-green-500 text-neutral-100":e}),wn=(i,e)=>({"bg-green-100 dark:bg-green-900 font-semibold":i,"hover:bg-neutral-100 dark:hover:bg-neutral-700":e}),Mn=(i,e)=>({"bg-yellow-500":i,"bg-green-500":e});function En(i,e){if(i&1&&f(0,"app-chip",2),i&2){let t=u();c("text",(t.deltaMilliseconds()<0?"Losing:":"Gaining:")+" "+t.deltaString)("backgroundColor",t.deltaMilliseconds()<0?"bg-yellow-500":"bg-green-500")("tooltipData",t.tooltipInfo)("tooltipPosition",t.tooltipPosition)}}function Ln(i,e){if(i&1&&(r(0,"tr",17)(1,"td",18),s(2),a(),r(3,"td",19),s(4),a(),r(5,"td",19),s(6),a(),r(7,"td",20)(8,"div",21),s(9),a()()()),i&2){let t=e.$implicit,n=u();c("ngClass",te(6,wn,t.id===n.activeStintId(),t.id!==n.activeStintId())),o(2),w(t.id),o(2),v("",n.getMillisecondsString(t.timeOnTrack)," "),o(2),v("",n.getMillisecondsString(t.optimum)," "),o(2),c("ngClass",te(9,Mn,t.delta<0,t.delta>=0)),o(),v(" ",n.getMillisecondsString(t.delta)," ")}}var et=class i{stintService=d(z);deltaStintService=d(Ze);deltaStints=this.deltaStintService.deltaStints;totalDeltaMilliseconds=this.deltaStintService.totalDeltaMilliseconds;deltaMilliseconds=g(()=>{let e=this.deltaStintService.deltaMilliseconds();return this.deltaString=Se(Math.abs(e)),e});activeStintId=g(()=>{let e=this.stintService.activeStint();if(e)return e.id});deltaString="";tooltipInfo={footer:"",paragraphs:["Only completed stint"],title:""};tooltipPosition="above";getMillisecondsString(e){return Se(Math.abs(e))}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=S({type:i,selectors:[["app-delta-stint"]],decls:28,vars:8,consts:[["title","\u03B4 Delta stint",3,"initiallyOpen"],["slot","header-right-content"],["tooltip","",3,"text","backgroundColor","tooltipData","tooltipPosition"],["slot","body-content",1,"max-h-72","flex","flex-col","overflow-clip"],[1,"w-full","bg-neutral-50","dark:bg-neutral-800","table-fixed"],[1,"sticky","top-0"],[1,"py-2","px-3","border-b","border-neutral-200","dark:border-neutral-400","text-left","text-xs","xl:text-base","font-medium","text-neutral-700","dark:text-neutral-400"],["colspan","2",1,"py-2","px-3","border-b","border-neutral-200","dark:border-neutral-400","text-center","text-xs","xl:text-base","font-medium","text-neutral-700","dark:text-neutral-400"],[1,"flex-1","overflow-y-auto"],[1,"w-full","table-fixed"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"flex"],[1,"sticky","bottom-0-0"],[1,"bg-neutral-100","dark:bg-neutral-700","font-bold"],["colspan","5",1,"py-2","px-3","border-b","border-neutral-200","dark:border-neutral-400","text-xs","xl:text-base","text-neutral-900","dark:text-neutral-100"],["colspan","2",1,"py-2","pr-1","border-b","border-neutral-200","dark:border-neutral-400","text-center","text-xs","xl:text-base","text-neutral-900","dark:text-neutral-100","font-mono"],[1,"p-1","text-center","rounded-sm",3,"ngClass"],[3,"ngClass"],[1,"py-2","px-3","border-b","border-neutral-200","dark:border-neutral-400","text-xs","xl:text-base","text-neutral-900","dark:text-neutral-100"],["colspan","2",1,"py-2","border-b","border-neutral-200","dark:border-neutral-400","text-center","text-xs","xl:text-base","text-neutral-900","dark:text-neutral-100","font-mono"],["colspan","2",1,"py-2","pr-1","border-b","border-neutral-200","dark:border-neutral-400","text-center","text-xs","xl:text-base","font-mono"],[1,"p-1","text-center","text-neutral-100","rounded-sm",3,"ngClass"]],template:function(t,n){t&1&&(r(0,"app-card",0)(1,"div",1),h(2,En,1,4,"app-chip",2),a(),r(3,"div",3)(4,"table",4)(5,"thead",5)(6,"tr")(7,"th",6),s(8," ID "),a(),r(9,"th",7),s(10,"On track "),a(),r(11,"th",7),s(12,"Optimum "),a(),r(13,"th",7),s(14,"Delta "),a()()()(),r(15,"div",8)(16,"table",9)(17,"tbody"),h(18,Ln,10,12,"tr",10),a()()(),r(19,"div",11)(20,"table",9)(21,"tfoot",12)(22,"tr",13)(23,"td",14),s(24,"Totals "),a(),r(25,"td",15)(26,"div",16),s(27),a()()()()()()()()),t&2&&(c("initiallyOpen",!1),o(2),p(n.deltaMilliseconds()!=0?2:-1),o(16),c("ngForOf",n.deltaStints()),o(8),c("ngClass",te(5,kn,n.totalDeltaMilliseconds()<0,n.totalDeltaMilliseconds()>0)),o(),v(" ",n.getMillisecondsString(n.totalDeltaMilliseconds())," "))},dependencies:[N,F,he,x,T],encapsulation:2})};var tt=class i{pitService=d(W);remainingDriverChanges=this.pitService.remainingDriverChanges;completedDriverChanges=this.pitService.completedDriverChanges;static \u0275fac=function(t){return new(t||i)};static \u0275cmp=S({type:i,selectors:[["app-driver-change"]],decls:14,vars:5,consts:[["title","\u{1F417} \u{1F504} Driver change",3,"initiallyOpen"],["slot","header-right-content",1,"flex","items-center","gap-1"],[3,"text","backgroundColor"],["slot","body-content",1,"flex","justify-between"],[1,"text-neutral-500","dark:text-neutral-400"],[1,"text-neutral-900","dark:text-neutral-100","font-mono"],[1,"text-neutral-600","dark:text-neutral-400"],[1,"text-neutral-900","dark:text-neutral-100","font-mono","text-right"]],template:function(t,n){t&1&&(r(0,"app-card",0)(1,"div",1),f(2,"app-chip",2),a(),r(3,"div",3)(4,"div")(5,"div",4),s(6,"Completed"),a(),r(7,"div",5),s(8),a()(),r(9,"div")(10,"div",6),s(11,"Remaining"),a(),r(12,"div",7),s(13),a()()()()),t&2&&(c("initiallyOpen",!1),o(2),c("text",n.remainingDriverChanges()>0?"Warning: "+n.remainingDriverChanges():"Completed")("backgroundColor",n.remainingDriverChanges()>0?"bg-yellow-500":"bg-green-500"),o(6),v(" ",n.completedDriverChanges()," "),o(5),v(" ",n.remainingDriverChanges()," "))},dependencies:[x,T],encapsulation:2})};var Rn=(i,e)=>({"bg-green-100 dark:bg-green-900 font-semibold":i,"hover:bg-neutral-100 dark:hover:bg-neutral-700":e}),In=i=>({"bg-yellow-500 text-white":i});function On(i,e){if(i&1&&(r(0,"tr",14)(1,"td",15),s(2),a(),r(3,"td",16),s(4),a(),r(5,"td",17),s(6),a(),r(7,"td",18)(8,"div",19),s(9),a()(),r(10,"td",20),s(11),a()()),i&2){let t=e.$implicit,n=u();c("ngClass",te(7,Rn,t.id===n.activeStintDriverId(),t.id!==n.activeStintDriverId())),o(2),w(t.id),o(2),w(t.raceName),o(2),v(" ",n.getDriverStintCount(t.id)," "),o(2),c("ngClass",ae(10,In,n.getDriverTimeOnTrackWarning(t.id))),o(),v(" ",n.getDriverTimeOnTrack(t.id)," "),o(2),v("",n.getDriverTimeFromLastStint(t.id)," ")}}var it=class i{driverService=d(ne);stintService=d(z);drivers=this.driverService.drivers;driversTimeOnTrackWarningCount=this.driverService.driversTimeOnTrackWarningCount;activeStintDriverId=g(()=>{let e=this.stintService.activeStint();if(e)return e.driverId});getDriverTimeOnTrack(e){return Y(this.driverService.driversTimeOnTrackMap().get(e))}getDriverTimeOnTrackWarning(e){return this.driverService.driversTimeOnTrackWarningMap().get(e)||!1}getDriverStintCount(e){return this.driverService.driversStintCountMap().get(e)??0}getDriverTimeFromLastStint(e){return Y(this.driverService.driversTimeFromLastStintMap().get(e))}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=S({type:i,selectors:[["app-driver"]],decls:21,vars:4,consts:[["title","\u{1F417} Driver","xmlns","http://www.w3.org/1999/html",3,"initiallyOpen"],["slot","header-right-content",1,"flex","items-center"],[3,"text","backgroundColor"],["slot","body-content",1,"flex","flex-col","overflow-clip"],[1,"w-full","bg-neutral-50","dark:bg-neutral-800","table-fixed"],[1,"sticky","top-0"],[1,"py-2","px-3","border-b","border-neutral-200","dark:border-neutral-400","text-left","text-xs","md:text-base","font-medium","text-neutral-700","dark:text-neutral-400"],[1,"py-2","border-b","border-neutral-200","dark:border-neutral-400","text-left","text-xs","md:text-base","font-medium","text-neutral-700","dark:text-neutral-400"],[1,"py-2","border-b","border-neutral-200","dark:border-neutral-400","text-center","text-xs","md:text-base","font-medium","text-neutral-700","dark:text-neutral-400"],["colspan","2",1,"py-2","border-b","border-neutral-200","dark:border-neutral-400","text-center","text-xs","md:text-base","font-medium","text-neutral-700","dark:text-neutral-400"],["colspan","2",1,"py-2","px-3","border-b","border-neutral-200","dark:border-neutral-400","text-center","text-xs","md:text-base","font-medium","text-neutral-700","dark:text-neutral-400"],[1,"flex-1","overflow-y-auto"],[1,"w-full","table-fixed"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"py-2","px-3","border-b","border-neutral-200","dark:border-neutral-400","text-left","text-xs","md:text-base","text-neutral-900","dark:text-neutral-100"],[1,"py-2","border-b","border-neutral-200","dark:border-neutral-400","text-left","text-xs","md:text-base","text-neutral-900","dark:text-neutral-100"],[1,"py-2","border-b","border-neutral-200","dark:border-neutral-400","text-center","text-xs","md:text-base","text-neutral-900","dark:text-neutral-100","font-mono"],["colspan","2",1,"py-2","border-b","border-neutral-200","dark:border-neutral-400","text-center","text-xs","md:text-base","text-neutral-900","dark:text-neutral-100","font-mono"],[1,"p-1","text-center","rounded-sm",3,"ngClass"],["colspan","2",1,"py-2","px-3","border-b","border-neutral-200","dark:border-neutral-400","text-center","text-xs","md:text-base","text-neutral-900","dark:text-neutral-100","font-mono"]],template:function(t,n){t&1&&(r(0,"app-card",0)(1,"div",1),f(2,"app-chip",2),a(),r(3,"div",3)(4,"table",4)(5,"thead",5)(6,"tr")(7,"th",6),s(8," ID "),a(),r(9,"th",7),s(10," Name "),a(),r(11,"th",8),s(12," Stint "),a(),r(13,"th",9),s(14," On track "),a(),r(15,"th",10),s(16," From last stint "),a()()()(),r(17,"div",11)(18,"table",12)(19,"tbody"),h(20,On,12,12,"tr",13),a()()()()()),t&2&&(c("initiallyOpen",!1),o(2),c("text",n.driversTimeOnTrackWarningCount()?"Warning: "+n.driversTimeOnTrackWarningCount():"Completed")("backgroundColor",n.driversTimeOnTrackWarningCount()<=0?"bg-green-500":"bg-yellow-500"),o(18),c("ngForOf",n.drivers()))},dependencies:[F,N,x,T],encapsulation:2})};var Pe=class i{charge=100;batteryColor="bg-green-500";batteryBorderColor="border-gray-200";ngOnChanges(e){this.batteryColor=this.getBackgroundColor(this.charge),this.batteryBorderColor=this.getBorderColor(this.charge)}getBackgroundColor(e){return e<=10?"bg-red-500":e<=25?"bg-orange-500":e<=50?"bg-yellow-500":"bg-green-500"}getBorderColor(e){return e<=10?"border-red-500":e<=25?"border-orange-500":"border-gray-200"}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=S({type:i,selectors:[["app-battery"]],inputs:{charge:"charge"},features:[Ot],decls:6,vars:6,consts:[[1,"w-16","lg:w-20","h-8","grid","grid-cols-6","items-center"],[1,"shadow-sm","col-span-5","rounded-sm","border-2","flex","relative","bg-neutral-100","dark:bg-neutral-900",3,"ngClass"],[1,"cursor-default","leading-none","rounded-xs","flex","items-center","py-3",3,"ngClass"],[1,"absolute","right-2","text-neutral-900","dark:text-neutral-100","font-semibold","font-mono"],[1,"ml-0.5","border-r-8","w-1","h-4","rounded-r",3,"ngClass"]],template:function(t,n){t&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),s(4),a()()(),f(5,"div",4),a()),t&2&&(o(),c("ngClass",n.batteryBorderColor),o(),Ft("width",n.charge,"%"),c("ngClass",n.batteryColor),o(2),w(n.charge),o(),c("ngClass",n.batteryBorderColor))},dependencies:[F],encapsulation:2,changeDetection:0})};var nt=class i{raceService=d(A);pitService=d(W);raceConfigService=d(X);lapConfigService=d(ve);worker;lastRefuelTime=C(void 0);emptyFuelTime=C(void 0);remainingFuelPercentage=C(100);remainingFuelLap=C(0);constructor(){typeof Worker<"u"&&(this.worker=new Worker(new URL("worker-ZIJZ3ULL.js",import.meta.url),{type:"module"}),this.worker.onmessage=({data:e})=>{this.lastRefuelTime.set(e.lastRefuelTime),this.emptyFuelTime.set(e.emptyFuelTime),this.remainingFuelLap.set(e.remainingFuelLap),this.remainingFuelPercentage.set(e.remainingFuelPercentage)}),M({lastRefuelPit:y(this.pitService.lastRefuelPit),race:y(this.raceService.activeRace),raceConfig:y(this.raceConfigService.raceConfig),lapConfig:y(this.lapConfigService.lapConfig),ping:E(1e3)}).pipe(R()).subscribe(({lastRefuelPit:e,race:t,raceConfig:n,lapConfig:l})=>{this.worker&&n&&l&&this.worker.postMessage({lastRefuelPit:e,race:t,raceConfig:n,lapConfig:l})})}static \u0275fac=function(t){return new(t||i)};static \u0275prov=L({token:i,factory:i.\u0275fac,providedIn:"root"})};var Fn=i=>({"animate-bounce":i});function Wn(i,e){if(i&1&&(s(0),U(1,"date")),i&2){let t=u();v(" ",q(1,1,t.lastRefuelTime(),"HH:mm:ss")," ")}}function Vn(i,e){i&1&&s(0," --:--:-- ")}function Bn(i,e){if(i&1&&(s(0),U(1,"date")),i&2){let t=u();v(" ",q(1,1,t.emptyFuelTime(),"HH:mm:ss")," ")}}function Nn(i,e){i&1&&s(0," --:--:-- ")}var rt=class i{fuelService=d(nt);remainingFuelPercentage=this.fuelService.remainingFuelPercentage;remainingFuelLap=this.fuelService.remainingFuelLap;emptyFuelTime=this.fuelService.emptyFuelTime;lastRefuelTime=this.fuelService.lastRefuelTime;emptyFuelCountdown=g(()=>se(this.emptyFuelTime()));sinceLastRefuel=g(()=>ee(this.lastRefuelTime(),new Date));warning=g(()=>this.remainingFuelPercentage()<=20);remainingColor=g(()=>this.getRemainingColor(this.remainingFuelPercentage()));getRemainingColor(e){return e<=10?"bg-red-500":e<=25?"bg-orange-500":e<=50?"bg-yellow-500":"bg-green-500"}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=S({type:i,selectors:[["app-fuel"]],decls:38,vars:16,consts:[["title","\u26FD\uFE0F Fuel",3,"initiallyOpen"],["slot","header-right-content",1,"flex","items-center","gap-1"],[3,"text","backgroundColor","bounceCondition"],[3,"charge","ngClass"],["slot","body-content",1,"flex","flex-col","gap-2"],[1,"flex","justify-between"],[1,"text-neutral-500","dark:text-neutral-400"],[1,"text-neutral-900","dark:text-neutral-100","font-mono"],[1,"text-neutral-500","dark:text-neutral-400","text-right"],[1,"text-neutral-900","dark:text-neutral-100","font-mono","text-right"]],template:function(t,n){t&1&&(r(0,"app-card",0)(1,"div",1),f(2,"app-chip",2)(3,"app-chip",2)(4,"app-battery",3),a(),r(5,"div",4)(6,"div",5)(7,"div")(8,"div",6),s(9,"Last refuel time"),a(),r(10,"div",7),h(11,Wn,2,4)(12,Vn,1,0),a()(),r(13,"div")(14,"div",8),s(15,"Since last refuel"),a(),r(16,"div",9),s(17),a()()(),f(18,"hr"),r(19,"div",5)(20,"div")(21,"div",6),s(22,"Empty time"),a(),r(23,"div",7),h(24,Bn,2,4)(25,Nn,1,0),a()(),r(26,"div")(27,"div",8),s(28,"Empty in"),a(),r(29,"div",9),s(30),a()()(),f(31,"hr"),r(32,"div",5)(33,"div")(34,"div",6),s(35,"Remaining laps"),a(),r(36,"div",7),s(37),a()()()()()),t&2&&(c("initiallyOpen",!1),o(2),c("text","Empty: "+n.emptyFuelCountdown())("backgroundColor",n.remainingColor())("bounceCondition",n.warning()),o(),c("text","Laps: "+n.remainingFuelLap())("backgroundColor",n.remainingColor())("bounceCondition",n.warning()),o(),c("charge",n.remainingFuelPercentage())("ngClass",ae(14,Fn,n.warning())),o(7),p(n.lastRefuelTime()?11:12),o(6),v(" ",n.sinceLastRefuel()," "),o(7),p(n.emptyFuelTime()?24:25),o(6),v(" ",n.emptyFuelCountdown()," "),o(7),v(" ",n.remainingFuelLap()," "))},dependencies:[F,de,Pe,ie,x,T],encapsulation:2})};var at=class i{raceService=d(A);pitService=d(W);raceConfigService=d(X);worker;lastChangeDate=C(void 0);emptyBatteryDate=C(void 0);remainingBatteryPercentage=C(100);constructor(){typeof Worker<"u"&&(this.worker=new Worker(new URL("worker-CUWCCH7K.js",import.meta.url),{type:"module"}),this.worker.onmessage=({data:e})=>{this.lastChangeDate.set(e.lastChangeDate),this.emptyBatteryDate.set(e.emptyBatteryDate),this.remainingBatteryPercentage.set(e.remainingBatteryPercentage)}),M({lastInterphoneChangePit:y(this.pitService.lastInterphoneChangePit),race:y(this.raceService.activeRace),raceConfig:y(this.raceConfigService.raceConfig),ping:E(1e3)}).pipe(R()).subscribe(({lastInterphoneChangePit:e,race:t,raceConfig:n})=>{this.worker&&n&&this.worker.postMessage({lastInterphoneChangePit:e,race:t,raceConfig:n})})}static \u0275fac=function(t){return new(t||i)};static \u0275prov=L({token:i,factory:i.\u0275fac,providedIn:"root"})};var An=i=>({"animate-bounce":i});function jn(i,e){if(i&1&&(s(0),U(1,"date")),i&2){let t=u();v(" ",q(1,1,t.lastChangeTime(),"HH:mm:ss")," ")}}function Kn(i,e){i&1&&s(0," --:--:-- ")}function Gn(i,e){if(i&1&&(s(0),U(1,"date")),i&2){let t=u();v(" ",q(1,1,t.emptyBatteryDate(),"HH:mm:ss")," ")}}function Hn(i,e){i&1&&s(0," --:--:-- ")}var ot=class i{interphoneService=d(at);remainingBatteryPercentage=this.interphoneService.remainingBatteryPercentage;emptyBatteryDate=this.interphoneService.emptyBatteryDate;lastChangeTime=this.interphoneService.lastChangeDate;emptyBatteryCountdown=g(()=>se(this.emptyBatteryDate()));sinceLastChange=g(()=>ee(this.lastChangeTime(),new Date));warning=g(()=>this.remainingBatteryPercentage()<=20);remainingColor=g(()=>this.getRemainingColor(this.remainingBatteryPercentage()));getRemainingColor(e){return e<=10?"bg-red-500":e<=25?"bg-orange-500":e<=50?"bg-yellow-500":"bg-green-500"}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=S({type:i,selectors:[["app-interphone"]],decls:30,vars:12,consts:[["title","\u{1F50A} Interphone",3,"initiallyOpen"],["slot","header-right-content",1,"flex","items-center","gap-1"],[3,"text","backgroundColor","bounceCondition"],[3,"charge","ngClass"],["slot","body-content",1,"flex","flex-col","gap-2"],[1,"flex","justify-between"],[1,"text-neutral-500","dark:text-neutral-400"],[1,"text-neutral-900","dark:text-neutral-100","font-mono"],[1,"text-neutral-500","dark:text-neutral-400","text-right"],[1,"text-neutral-900","dark:text-neutral-100","font-mono","text-right"]],template:function(t,n){t&1&&(r(0,"app-card",0)(1,"div",1),f(2,"app-chip",2)(3,"app-battery",3),a(),r(4,"div",4)(5,"div",5)(6,"div")(7,"div",6),s(8,"Last change time"),a(),r(9,"div",7),h(10,jn,2,4)(11,Kn,1,0),a()(),r(12,"div")(13,"div",8),s(14,"Since last change"),a(),r(15,"div",9),s(16),a()()(),f(17,"hr"),r(18,"div",5)(19,"div")(20,"div",6),s(21,"Empty time"),a(),r(22,"div",7),h(23,Gn,2,4)(24,Hn,1,0),a()(),r(25,"div")(26,"div",8),s(27,"Empty in"),a(),r(28,"div",9),s(29),a()()()()()),t&2&&(c("initiallyOpen",!1),o(2),c("text","Empty: "+n.emptyBatteryCountdown())("backgroundColor",n.remainingColor())("bounceCondition",n.warning()),o(),c("charge",n.remainingBatteryPercentage())("ngClass",ae(10,An,n.warning())),o(7),p(n.lastChangeTime()?10:11),o(6),v(" ",n.sinceLastChange()," "),o(7),p(n.emptyBatteryDate()?23:24),o(6),v(" ",n.emptyBatteryCountdown()," "))},dependencies:[Pe,de,ie,zt,F,x,T],encapsulation:2})};var Ve=class i{worker;raceConfigService=d(X);kartConfigService=d(ei);lapConfigService=d(ve);raceService=d(A);pitService=d(W);remainingKartChanges=C(0);remainingKartPercentage=C(100);remainingKartLap=C(0);expirationKartDate=C(void 0);lastKartChangeDate=C(void 0);constructor(){typeof Worker<"u"&&(this.worker=new Worker(new URL("worker-ITNBTK7R.js",import.meta.url),{type:"module"}),this.worker.onmessage=({data:e})=>{this.remainingKartChanges.set(e.remainingKartChanges),this.remainingKartPercentage.set(e.remainingKartPercentage),this.remainingKartLap.set(e.remainingKartLap),this.expirationKartDate.set(e.expirationKartDate),this.lastKartChangeDate.set(e.lastKartChangeDate)}),M({race:y(this.raceService.activeRace),raceConfig:y(this.raceConfigService.raceConfig),kartConfig:y(this.kartConfigService.kartConfig),lapConfig:y(this.lapConfigService.lapConfig),lastKartChangePit:y(this.pitService.lastKartChangePit),completedKartChanges:y(this.pitService.completedKartChanges),ping:E(1e3)}).pipe(R()).subscribe(({race:e,raceConfig:t,kartConfig:n,lapConfig:l,lastKartChangePit:m,completedKartChanges:b})=>{this.worker&&t&&n&&l&&this.worker.postMessage({kartConfig:n,raceConfig:t,lapConfig:l,race:e,lastKartChangePit:m,completedKartChanges:b})})}static \u0275fac=function(t){return new(t||i)};static \u0275prov=L({token:i,factory:i.\u0275fac,providedIn:"root"})};var st=class i{kartService=d(Ve);pitService=d(W);remainingKartChanges=this.kartService.remainingKartChanges;completedKartChanges=this.pitService.completedKartChanges;static \u0275fac=function(t){return new(t||i)};static \u0275cmp=S({type:i,selectors:[["app-kart-change"]],decls:14,vars:5,consts:[["title","\u{1F3CE}\uFE0F \u{1F504} Kart change",3,"initiallyOpen"],["slot","header-right-content",1,"flex","items-center","gap-1"],[3,"text","backgroundColor"],["slot","body-content",1,"flex","justify-between"],[1,"text-neutral-500","dark:text-neutral-400"],[1,"text-neutral-900","dark:text-neutral-100","font-mono"],[1,"text-neutral-600","dark:text-neutral-400"],[1,"text-neutral-900","dark:text-neutral-100","font-mono","text-right"]],template:function(t,n){t&1&&(r(0,"app-card",0)(1,"div",1),f(2,"app-chip",2),a(),r(3,"div",3)(4,"div")(5,"div",4),s(6,"Completed"),a(),r(7,"div",5),s(8),a()(),r(9,"div")(10,"div",6),s(11,"Remaining"),a(),r(12,"div",7),s(13),a()()()()),t&2&&(c("initiallyOpen",!1),o(2),c("text",n.remainingKartChanges()>0?"Remaining: "+n.remainingKartChanges():"Completed")("backgroundColor",n.remainingKartChanges()>0?"bg-yellow-500":"bg-green-500"),o(6),v(" ",n.completedKartChanges()," "),o(5),v(" ",n.remainingKartChanges()," "))},dependencies:[x,T],encapsulation:2})};var Yn=i=>({"animate-bounce":i});function zn(i,e){if(i&1&&(s(0),U(1,"date")),i&2){let t=u();v(" ",q(1,1,t.lastKartChangeDate(),"HH:mm:ss")," ")}}function Un(i,e){i&1&&s(0," --:--:-- ")}function qn(i,e){if(i&1&&(s(0),U(1,"date")),i&2){let t=u();v(" ",q(1,1,t.expirationKartDate(),"HH:mm:ss")," ")}}function Xn(i,e){i&1&&s(0," --:--:-- ")}var lt=class i{kartService=d(Ve);remainingKartPercentage=this.kartService.remainingKartPercentage;remainingKartLap=this.kartService.remainingKartLap;expirationKartDate=this.kartService.expirationKartDate;lastKartChangeDate=this.kartService.lastKartChangeDate;expirationKartCountdown=g(()=>se(this.expirationKartDate()));sinceLastKartChange=g(()=>ee(this.lastKartChangeDate(),new Date));remainingColor=g(()=>this.getRemainingColor(this.remainingKartPercentage()));warning=g(()=>this.remainingKartPercentage()<=20);getRemainingColor(e){return e<=10?"bg-red-500":e<=25?"bg-orange-500":e<=50?"bg-yellow-500":"bg-green-500"}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=S({type:i,selectors:[["app-kart"]],decls:38,vars:16,consts:[["title","\u{1F3CE}\uFE0F Kart",3,"initiallyOpen"],["slot","header-right-content",1,"flex","items-center","gap-1"],[3,"text","backgroundColor","bounceCondition"],[3,"charge","ngClass"],["slot","body-content",1,"flex","flex-col","gap-2"],[1,"flex","justify-between"],[1,"text-neutral-500","dark:text-neutral-400"],[1,"text-neutral-900","dark:text-neutral-100","font-mono"],[1,"text-neutral-500","dark:text-neutral-400","text-right"],[1,"text-neutral-900","dark:text-neutral-100","font-mono","text-right"]],template:function(t,n){t&1&&(r(0,"app-card",0)(1,"div",1),f(2,"app-chip",2)(3,"app-chip",2)(4,"app-battery",3),a(),r(5,"div",4)(6,"div",5)(7,"div")(8,"div",6),s(9,"Last kart change"),a(),r(10,"div",7),h(11,zn,2,4)(12,Un,1,0),a()(),r(13,"div")(14,"div",8),s(15,"Since last kart change"),a(),r(16,"div",9),s(17),a()()(),f(18,"hr"),r(19,"div",5)(20,"div")(21,"div",6),s(22,"Expiration time"),a(),r(23,"div",7),h(24,qn,2,4)(25,Xn,1,0),a()(),r(26,"div")(27,"div",8),s(28,"Expiration in"),a(),r(29,"div",9),s(30),a()()(),f(31,"hr"),r(32,"div",5)(33,"div")(34,"div",6),s(35,"Remaining laps"),a(),r(36,"div",7),s(37),a()()()()()),t&2&&(c("initiallyOpen",!1),o(2),c("text","Empty: "+n.expirationKartCountdown())("backgroundColor",n.remainingColor())("bounceCondition",n.warning()),o(),c("text","Laps: "+n.remainingKartLap())("backgroundColor",n.remainingColor())("bounceCondition",n.warning()),o(),c("charge",n.remainingKartPercentage())("ngClass",ae(14,Yn,n.warning())),o(7),p(n.lastKartChangeDate()?11:12),o(6),v(" ",n.sinceLastKartChange()," "),o(7),p(n.expirationKartDate()?24:25),o(6),v(" ",n.expirationKartCountdown()," "),o(7),v(" ",n.remainingKartLap()," "))},dependencies:[Pe,de,ie,F,x,T],encapsulation:2})};var Qn=(i,e)=>({"bg-green-100 dark:bg-green-900 font-semibold":i,"hover:bg-neutral-100 dark:hover:bg-neutral-700":e});function Jn(i,e){if(i&1&&f(0,"app-chip",2),i&2){let t=u();c("text",t.remainingMinTotalPitMilliseconds()>0?"Remaining: "+t.remainingMinTotalPitString:"Completed")("backgroundColor",t.remainingMinTotalPitMilliseconds()>0?"bg-yellow-500":"bg-green-500")}}function $n(i,e){if(i&1&&f(0,"app-chip",4),i&2){let t=u();c("tooltipData",t.tooltipAVGInfo)("tooltipPosition",t.tooltipPosition)("text","AVG: "+t.pitAVGString)}}function Zn(i,e){i&1&&(r(0,"th",9),s(1," \u26FD\uFE0F "),a())}function er(i,e){i&1&&(r(0,"th",9),s(1," \u{1F6DE} \u{1F504} "),a())}function tr(i,e){i&1&&(r(0,"th",9),s(1," \u{1F50A} \u{1F504} "),a())}function ir(i,e){i&1&&(r(0,"th",9),s(1," \u{1F3CE}\uFE0F \u{1F504} "),a())}function nr(i,e){i&1&&s(0," \u2705 ")}function rr(i,e){i&1&&s(0," \u2705 ")}function ar(i,e){if(i&1&&(r(0,"td",22),h(1,rr,1,0),a()),i&2){let t=u().$implicit;o(),p(t.refuel?1:-1)}}function or(i,e){i&1&&s(0," \u2705 ")}function sr(i,e){if(i&1&&(r(0,"td",22),h(1,or,1,0),a()),i&2){let t=u().$implicit;o(),p(t.tyreChange?1:-1)}}function lr(i,e){i&1&&s(0," \u2705 ")}function dr(i,e){if(i&1&&(r(0,"td",22),h(1,lr,1,0),a()),i&2){let t=u().$implicit;o(),p(t.interphoneChange?1:-1)}}function cr(i,e){i&1&&s(0," \u2705 ")}function mr(i,e){if(i&1&&(r(0,"td",22),h(1,cr,1,0),a()),i&2){let t=u().$implicit;o(),p(t.kartChange?1:-1)}}function pr(i,e){if(i&1&&(r(0,"tr",20)(1,"td",17),s(2),a(),r(3,"td",21),h(4,nr,1,0),a(),h(5,ar,2,1,"td",22)(6,sr,2,1,"td",22)(7,dr,2,1,"td",22)(8,mr,2,1,"td",22),r(9,"td",19),s(10),a()()),i&2){let t=e.$implicit,n=u();c("ngClass",te(8,Qn,t.id===n.activePitId(),t.id!==n.activePitId())),o(2),w(t.id),o(2),p(t.entryDriverId!==t.exitDriverId?4:-1),o(),p(n.fuelVisible?5:-1),o(),p(n.tyreChangeVisible?6:-1),o(),p(n.interphoneVisible?7:-1),o(),p(n.kartChangeVisible?8:-1),o(2),v(" ",n.calculatePitTime(t)," ")}}function ur(i,e){if(i&1&&(r(0,"td",18),s(1),a()),i&2){let t=u();o(),w(t.calculateTotalRefueling())}}function fr(i,e){if(i&1&&(r(0,"td",18),s(1),a()),i&2){let t=u();o(),w(t.calculateTotalTyreChanges())}}function gr(i,e){if(i&1&&(r(0,"td",18),s(1),a()),i&2){let t=u();o(),w(t.calculateTotalInterphoneChanges())}}function vr(i,e){if(i&1&&(r(0,"td",18),s(1),a()),i&2){let t=u();o(),w(t.calculateTotalKartChanges())}}var dt=class i{pitService=d(W);pitDataService=d(Ce);boardConfigService=d(ye);pitConfigService=d(me);pits=this.pitDataService.pits;activePitId=g(()=>{let e=this.pitService.activePit();if(e)return e.id});completedDriverChanges=this.pitService.completedDriverChanges;pitAVGMilliseconds=g(()=>{let e=this.pitService.pitAVGMilliseconds();return this.pitAVGString=V(e),e});minTotalPitMillisecondsVisible=g(()=>{let e=this.pitConfigService.pitConfig();return e?e.minTotalPitMinute>0:!1});remainingMinTotalPitMilliseconds=g(()=>{let e=this.pitService.remainingMinTotalPitMilliseconds();return this.remainingMinTotalPitString=kt(e),e});tyreChangeVisible=!1;fuelVisible=!1;interphoneVisible=!1;kartChangeVisible=!1;pitAVGString="";remainingMinTotalPitString="";tooltipAVGInfo={footer:"",paragraphs:["Only completed pit"],title:""};tooltipPosition="above";constructor(){oe(()=>{let e=this.boardConfigService.boardConfig();e&&(this.fuelVisible=e.fuelVisible,this.tyreChangeVisible=e.tyreChangeVisible,this.kartChangeVisible=e.kartChangeVisible,this.interphoneVisible=e.interphoneVisible)})}calculatePitTime(e){return e.exitAt?V(e.exitAt.getTime()-e.entryAt.getTime()):V(new Date().getTime()-e.entryAt.getTime())}calculateTotalPitTime(){let e=this.pits(),t=0;return e.forEach(n=>{n.exitAt?t+=n.exitAt.getTime()-n.entryAt.getTime():t+=new Date().getTime()-n.entryAt.getTime()}),kt(t)}calculateTotalRefueling(){return this.pits().filter(e=>e.refuel).length}calculateTotalTyreChanges(){return this.pits().filter(e=>e.tyreChange).length}calculateTotalInterphoneChanges(){return this.pits().filter(e=>e.interphoneChange).length}calculateTotalKartChanges(){return this.pits().filter(e=>e.kartChange).length}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=S({type:i,selectors:[["app-pit"]],decls:37,vars:15,consts:[["title","\u{1F468}\u{1F3FB}\u200D\u{1F527} Pit",3,"initiallyOpen"],["slot","header-right-content",1,"flex","items-center","gap-1"],[3,"text","backgroundColor"],[3,"text"],["tooltip","",3,"tooltipData","tooltipPosition","text"],["slot","body-content",1,"max-h-72","flex","flex-col","overflow-clip"],[1,"w-full","bg-neutral-50","dark:bg-neutral-800","table-fixed"],[1,"sticky","top-0"],[1,"py-2","px-3","border-b","border-neutral-200","dark:border-neutral-400","text-left","text-xs","md:text-base","font-medium","text-neutral-700","dark:text-neutral-400"],[1,"py-2","px-3","border-b","border-neutral-200","dark:border-neutral-400","text-center","text-xs","md:text-base","font-medium","text-neutral-700","dark:text-neutral-400"],["colspan","2",1,"py-2","px-3","border-b","border-neutral-200","dark:border-neutral-400","text-center","text-xs","md:text-base","font-medium","text-neutral-700","dark:text-neutral-400"],[1,"flex-1","overflow-y-auto"],[1,"w-full","table-fixed"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"flex"],[1,"sticky","bottom-0-0"],[1,"bg-neutral-100","dark:bg-neutral-700","font-bold"],[1,"py-2","px-3","border-b","border-neutral-200","dark:border-neutral-400","text-xs","md:text-base","text-neutral-900","dark:text-neutral-100"],[1,"py-2","px-3","border-b","border-neutral-200","dark:border-neutral-400","text-center","text-xs","md:text-base","text-neutral-900","dark:text-neutral-100","font-mono"],["colspan","2",1,"py-2","px-3","border-b","border-neutral-200","dark:border-neutral-400","text-right","text-xs","md:text-base","text-neutral-900","dark:text-neutral-100","font-mono"],[3,"ngClass"],[1,"py-2","px-3","border-b","border-neutral-200","dark:border-neutral-400","text-center","text-xs","md:text-base","text-neutral-900","dark:text-neutral-100"],[1,"py-2","border-b","border-neutral-200","dark:border-neutral-400","text-center","text-xs","md:text-base","text-neutral-900","dark:text-neutral-100","font-mono"]],template:function(t,n){t&1&&(r(0,"app-card",0)(1,"div",1),h(2,Jn,1,2,"app-chip",2),f(3,"app-chip",3),h(4,$n,1,3,"app-chip",4),a(),r(5,"div",5)(6,"table",6)(7,"thead",7)(8,"tr")(9,"th",8),s(10," ID "),a(),r(11,"th",9),s(12," \u{1F417} \u{1F504} "),a(),h(13,Zn,2,0,"th",9)(14,er,2,0,"th",9)(15,tr,2,0,"th",9)(16,ir,2,0,"th",9),r(17,"th",10),s(18,"In pit "),a()()()(),r(19,"div",11)(20,"table",12)(21,"tbody"),h(22,pr,11,11,"tr",13),a()()(),r(23,"div",14)(24,"table",12)(25,"tfoot",15)(26,"tr",16)(27,"td",17),s(28,"Totals "),a(),r(29,"td",18),s(30),a(),h(31,ur,2,1,"td",18)(32,fr,2,1,"td",18)(33,gr,2,1,"td",18)(34,vr,2,1,"td",18),r(35,"td",19),s(36),a()()()()()()()),t&2&&(c("initiallyOpen",!1),o(2),p(n.minTotalPitMillisecondsVisible()?2:-1),o(),c("text","Total: "+n.pits().length),o(),p(n.pitAVGMilliseconds()!=0?4:-1),o(9),p(n.fuelVisible?13:-1),o(),p(n.tyreChangeVisible?14:-1),o(),p(n.interphoneVisible?15:-1),o(),p(n.kartChangeVisible?16:-1),o(6),c("ngForOf",n.pits()),o(8),w(n.completedDriverChanges()),o(),p(n.fuelVisible?31:-1),o(),p(n.tyreChangeVisible?32:-1),o(),p(n.interphoneVisible?33:-1),o(),p(n.kartChangeVisible?34:-1),o(2),v("",n.calculateTotalPitTime()," "))},dependencies:[F,N,he,x,T],encapsulation:2})};var ct=class i{raceService=d(A);stintService=d(z);raceConfigService=d(X);pitLaneConfigService=d(ze);worker;open=C(!1);openInMilliseconds=C(0);constructor(){typeof Worker<"u"&&(this.worker=new Worker(new URL("worker-HR4VAE55.js",import.meta.url),{type:"module"}),this.worker.onmessage=({data:e})=>{this.open.set(e.open),this.openInMilliseconds.set(e.openInMilliseconds)}),M({willEndRaceDate:y(this.raceService.willEndRaceDate),activeStint:y(this.stintService.activeStint),raceConfig:y(this.raceConfigService.raceConfig),pitLaneConfig:y(this.pitLaneConfigService.pitLaneConfig),ping:E(1e3)}).pipe(R()).subscribe(({willEndRaceDate:e,activeStint:t,raceConfig:n,pitLaneConfig:l})=>{this.worker&&n&&this.worker.postMessage({willEndRaceDate:e,activeStint:t,raceConfig:n,pitLaneConfig:l})})}static \u0275fac=function(t){return new(t||i)};static \u0275prov=L({token:i,factory:i.\u0275fac,providedIn:"root"})};var Be=class i{httpClient=d(Bt);raceManagerPath="/race-manager";raceService=d(A);notificationService=d(Le);liveTimingConfigService=d(Qt);stintOptimizerService=d(ue);boardConfigService=d(ye);tyreConfigService=d(Ie);activeRace=this.raceService.activeRace;optimizedStintMilliseconds=g(()=>{let e=this.stintOptimizerService.optimizedStint();return e?e.avgStintMillisecondsTime:0});liveTimingUrl=g(()=>{let e=this.liveTimingConfigService.liveTimingConfig();return e?e.url:void 0});liveTimingSource=g(()=>{let e=this.liveTimingConfigService.liveTimingConfig();return e?e.source:void 0});liveTimingEnabled=g(()=>{let e=this.boardConfigService.boardConfig();return e?e.liveTimingVisible:!1});fuelEnabled=g(()=>{let e=this.boardConfigService.boardConfig();return e?e.fuelVisible:!1});tyreChangeEnabled=g(()=>{let e=this.boardConfigService.boardConfig();return e?e.tyreChangeVisible:!1});interphoneEnabled=g(()=>{let e=this.boardConfigService.boardConfig();return e?e.interphoneVisible:!1});kartChangeEnabled=g(()=>{let e=this.boardConfigService.boardConfig();return e?e.kartChangeVisible:!1});tyrePressureEnabled=g(()=>{let e=this.boardConfigService.boardConfig();return e?e.tyrePressureVisible:!1});frontLeftTyrePressurePsi=g(()=>{let e=this.tyreConfigService.tyreConfig();return e?e.frontLeftTyrePressurePsi:void 0});frontRightTyrePressurePsi=g(()=>{let e=this.tyreConfigService.tyreConfig();return e?e.frontRightTyrePressurePsi:void 0});rearLeftTyrePressurePsi=g(()=>{let e=this.tyreConfigService.tyreConfig();return e?e.rearLeftTyrePressurePsi:void 0});rearRightTyrePressurePsi=g(()=>{let e=this.tyreConfigService.tyreConfig();return e?e.rearRightTyrePressurePsi:void 0});startRace(e){let t=this.liveTimingEnabled()&&this.liveTimingUrl()||void 0,n=this.liveTimingEnabled()&&this.liveTimingSource()||void 0,l=this.tyrePressureEnabled()?this.frontLeftTyrePressurePsi():void 0,m=this.tyrePressureEnabled()?this.frontRightTyrePressurePsi():void 0,b=this.tyrePressureEnabled()?this.rearLeftTyrePressurePsi():void 0,k=this.tyrePressureEnabled()?this.rearRightTyrePressurePsi():void 0;this.sendStartRace(e,new Date,this.optimizedStintMilliseconds(),t,n,l,m,b,k).subscribe(()=>{this.notificationService.success("Race started")})}endRace(){let e=this.activeRace();e!==void 0&&this.sendEndRace(e.id,new Date).subscribe(()=>{this.notificationService.success("Race ended")})}pitIn(e,t,n,l,m){let b=this.activeRace();if(b===void 0)return;let k=this.fuelEnabled()?t:!1,j=this.tyreChangeEnabled()?n:!1,Q=this.interphoneEnabled()?l:!1,K=this.kartChangeEnabled()?m:!1;this.sendPitIn(b.id,e,k,j,Q,K).subscribe(()=>{this.notificationService.success("Pit in")})}pitOut(){let e=this.activeRace();if(e===void 0)return new Dt(b=>{b.next(!1),b.complete()});let t=this.tyrePressureEnabled()?this.frontLeftTyrePressurePsi():void 0,n=this.tyrePressureEnabled()?this.frontRightTyrePressurePsi():void 0,l=this.tyrePressureEnabled()?this.rearLeftTyrePressurePsi():void 0,m=this.tyrePressureEnabled()?this.rearRightTyrePressurePsi():void 0;return new Dt(b=>{this.sendPitOut(e.id,this.optimizedStintMilliseconds(),new Date,t,n,l,m).subscribe({next:()=>{this.notificationService.success("Pit out"),b.next(!0),b.complete()}})})}sendStartRace(e,t,n,l,m,b,k,j,Q){return this.httpClient.post(`${Ne.baseUrl}${this.raceManagerPath}/start-race`,{startedDriverId:e,startedAt:t,optimizedStintMilliseconds:n,liveTimingUrl:l,liveTimingSource:m,frontLeftTyrePressurePsi:b,frontRightTyrePressurePsi:k,rearLeftTyrePressurePsi:j,rearRightTyrePressurePsi:Q})}sendEndRace(e,t){return this.httpClient.post(`${Ne.baseUrl}${this.raceManagerPath}/end-race`,{raceId:e,endedAt:t})}sendPitIn(e,t,n,l,m,b){return this.httpClient.post(`${Ne.baseUrl}${this.raceManagerPath}/pit-in`,{raceId:e,exitDriverId:t,entryAt:new Date,refuel:n,tyreChange:l,interphoneChange:m,kartChange:b})}sendPitOut(e,t,n,l,m,b,k){return this.httpClient.post(`${Ne.baseUrl}${this.raceManagerPath}/pit-out`,{raceId:e,optimizedStintMilliseconds:t,exitAt:n,frontLeftTyrePressurePsi:l,frontRightTyrePressurePsi:m,rearLeftTyrePressurePsi:b,rearRightTyrePressurePsi:k})}static \u0275fac=function(t){return new(t||i)};static \u0275prov=L({token:i,factory:i.\u0275fac,providedIn:"root"})};var mt=class i{audio=new Audio;notificationService=d(Le);constructor(){this.audio.addEventListener("error",e=>this.notificationService.error("Audio error:"+e.message))}play(){this.audio.play()}playFile(e){this.audio=new Audio(e),this.audio.play()}pause(){this.audio.pause()}stop(){this.audio.pause(),this.audio.currentTime=0}seek(e){this.audio.currentTime=e}setVolume(e){this.audio.volume=e}setLoop(e){this.audio.loop=e}on(e,t){this.audio.addEventListener(e,t)}off(e,t){this.audio.removeEventListener(e,t)}getCurrentTime(){return this.audio.currentTime}getDuration(){return this.audio.duration}static \u0275fac=function(t){return new(t||i)};static \u0275prov=L({token:i,factory:i.\u0275fac,providedIn:"root"})};function hr(i,e){if(i&1&&f(0,"app-chip",2),i&2){let t=u();c("text","Min pit: "+t.minPitSecondsString())}}function yr(i,e){if(i&1&&f(0,"app-chip",2),i&2){let t=u();c("text","Max pit: "+t.maxPitSecondsString())}}function br(i,e){if(i&1&&(r(0,"option",16),s(1),a()),i&2){let t=e.$implicit;c("value",t.id),o(),v(" ",t.raceName," ")}}function Cr(i,e){if(i&1){let t=re();r(0,"div",12)(1,"label",17),s(2,"\u26FD\uFE0F Refueling"),a(),r(3,"input",18),D("change",function(){G(t);let l=u(2);return H(l.updateRefueling())}),Z("ngModelChange",function(l){G(t);let m=u(2);return $(m.refuel,l)||(m.refuel=l),H(l)}),a()()}if(i&2){let t=u(2);o(3),c("disabled",t.activePit()!==void 0),J("ngModel",t.refuel)}}function Sr(i,e){if(i&1){let t=re();r(0,"div",12)(1,"label",19),s(2,"\u{1F6DE} Tyre change"),a(),r(3,"input",20),Z("ngModelChange",function(l){G(t);let m=u(2);return $(m.tyreChange,l)||(m.tyreChange=l),H(l)}),D("change",function(){G(t);let l=u(2);return H(l.updateTyreChange())}),a()()}if(i&2){let t=u(2);o(3),c("disabled",t.activePit()!==void 0||!t.tyreChangeWindowOpen()||t.remainingTyreChange()<=0),J("ngModel",t.tyreChange)}}function xr(i,e){if(i&1){let t=re();r(0,"div",12)(1,"label",21),s(2,"\u{1F50A} Interphone change"),a(),r(3,"input",22),Z("ngModelChange",function(l){G(t);let m=u(2);return $(m.interphoneChange,l)||(m.interphoneChange=l),H(l)}),D("change",function(){G(t);let l=u(2);return H(l.updateInterphoneChange())}),a()()}if(i&2){let t=u(2);o(3),c("disabled",t.activePit()!==void 0),J("ngModel",t.interphoneChange)}}function Pr(i,e){if(i&1){let t=re();r(0,"div",12)(1,"label",23),s(2,"\u{1F3CE}\uFE0F Kart change"),a(),r(3,"input",24),Z("ngModelChange",function(l){G(t);let m=u(2);return $(m.kartChange,l)||(m.kartChange=l),H(l)}),D("change",function(){G(t);let l=u(2);return H(l.updateKartChange())}),a()()}if(i&2){let t=u(2);o(3),c("disabled",t.activePit()!==void 0),J("ngModel",t.kartChange)}}function Tr(i,e){if(i&1){let t=re();r(0,"div",10),s(1,"PIT SETTINGS"),a(),r(2,"form",11)(3,"div",12)(4,"label",13),s(5,"\u{1F417} Driver"),a(),r(6,"select",14),Z("ngModelChange",function(l){G(t);let m=u();return $(m.selectedDriver,l)||(m.selectedDriver=l),H(l)}),D("change",function(){G(t);let l=u();return H(l.updateDriverId())}),h(7,br,2,2,"option",15),a()(),h(8,Cr,4,2,"div",12)(9,Sr,4,2,"div",12)(10,xr,4,2,"div",12)(11,Pr,4,2,"div",12),a()}if(i&2){let t=u();o(6),c("disabled",t.activePit()!==void 0),J("ngModel",t.selectedDriver),o(),c("ngForOf",t.drivers()),o(),p(t.fuelVisible?8:-1),o(),p(t.tyreChangeVisible?9:-1),o(),p(t.interphoneChangeVisible?10:-1),o(),p(t.kartChangeVisible?11:-1)}}function _r(i,e){if(i&1&&f(0,"app-chip",6),i&2){let t=u();c("text",t.activePitRemainingMilliseconds()>0?"Pit out enabled in: "+t.activePitRemainingMillisecondsString:"Pit out ready!")("backgroundColor",t.activePitRemainingMilliseconds()>0?"bg-yellow-500":"bg-green-500")("bounceCondition",t.activePitRemainingMilliseconds()<1e4&&t.activePitRemainingMilliseconds()>0)("large",!0)}}function Dr(i,e){if(i&1&&f(0,"app-chip",3),i&2){let t=u();c("text","Open in: "+t.pitLaneOpenInMillisecondsString)("backgroundColor","bg-green-500")}}var pt=class i{pitLaneService=d(ct);pitService=d(W);driverService=d(ne);raceManagerService=d(Be);tyreService=d(pe);boardConfigService=d(ye);audioService=d(mt);pitLaneConfigService=d(ze);pitConfigService=d(me);pitLaneOpen=this.pitLaneService.open;pitLaneOpenInMilliseconds=g(()=>{let e=this.pitLaneService.openInMilliseconds();return this.pitLaneOpenInMillisecondsString=Se(e),e});activePit=this.pitService.activePit;activePitRemainingMilliseconds=g(()=>{let e=this.pitService.activePitRemainingMilliseconds();return this.activePitRemainingMillisecondsString=Ue(e),e});drivers=this.driverService.drivers;remainingTyreChange=this.tyreService.remainingTyreChange;tyreChangeWindowOpen=this.tyreService.tyreChangeWindowOpen;minPitSeconds=g(()=>{let e=this.pitConfigService.pitConfig();if(e)return e.minPitSeconds!==0?e.minPitSeconds:void 0});minPitSecondsString=g(()=>{let e=this.minPitSeconds();return e?Ue(e*1e3):""});maxPitSeconds=g(()=>{let e=this.pitConfigService.pitConfig();if(e)return e.maxPitSeconds===e.minPitSeconds?void 0:e.maxPitSeconds!==0?e.maxPitSeconds:void 0});maxPitSecondsString=g(()=>{let e=this.maxPitSeconds();return e?Ue(e*1e3):""});fuelVisible=!1;tyreChangeVisible=!1;interphoneChangeVisible=!1;kartChangeVisible=!1;refuel=!1;tyreChange=!1;interphoneChange=!1;kartChange=!1;selectedDriver=1;pitLaneOpenInMillisecondsString="";activePitRemainingMillisecondsString="";constructor(){oe(()=>{let e=this.pitLaneConfigService.pitLaneConfig();e&&(this.refuel=e.refuel,this.tyreChange=e.tyreChange,this.interphoneChange=e.interphoneChange,this.selectedDriver=e.driverId,this.kartChange=e.kartChange)}),oe(()=>{let e=this.boardConfigService.boardConfig();e&&(this.fuelVisible=e.fuelVisible,this.tyreChangeVisible=e.tyreChangeVisible,this.interphoneChangeVisible=e.interphoneVisible,this.kartChangeVisible=e.kartChangeVisible)})}pitIn(){this.audioService.playFile("assets/box_box_box_box.mp3"),this.raceManagerService.pitIn(this.selectedDriver,this.refuel,this.tyreChange,this.interphoneChange,this.kartChange)}pitOut(){this.raceManagerService.pitOut().subscribe(e=>{e&&this.resetPitLane()})}updateDriverId(){this.pitLaneConfigService.updateDriverId(this.selectedDriver)}updateTyreChange(){this.pitLaneConfigService.updateTyreChange(this.tyreChange)}updateRefueling(){this.pitLaneConfigService.updateRefuel(this.refuel)}updateInterphoneChange(){this.pitLaneConfigService.updateInterphoneChange(this.interphoneChange)}updateKartChange(){this.pitLaneConfigService.updateKartChange(this.kartChange)}resetPitLane(){return It(this,null,function*(){yield this.pitLaneConfigService.updateRefuel(!1),yield this.pitLaneConfigService.updateTyreChange(!1),yield this.pitLaneConfigService.updateInterphoneChange(!1),yield this.pitLaneConfigService.updateKartChange(!1);let e=this.driverService.driverWithMoreTimeFromLastStint();e&&(yield this.pitLaneConfigService.updateDriverId(e.id))})}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=S({type:i,selectors:[["app-pit-lane"]],decls:15,vars:9,consts:[["title","\u{1F17F}\uFE0F Pit Lane",3,"initiallyOpen"],["slot","header-right-content",1,"flex","items-center","gap-1"],[3,"text"],[3,"text","backgroundColor"],["slot","body-content",1,"flex","flex-col","gap-2"],[1,"flex","flex-col","items-center","gap-2"],[3,"text","backgroundColor","bounceCondition","large"],[1,"flex","justify-between","items-center"],[1,"bg-green-500","hover:bg-green-700","disabled:bg-green-200","text-white","font-bold","py-2","px-4","rounded-sm","hover:cursor-pointer",3,"click","disabled"],[1,"bg-red-500","hover:bg-red-700","disabled:bg-red-200","text-white","font-bold","py-2","px-4","rounded-sm","hover:cursor-pointer",3,"click","disabled"],[1,"font-semibold","text-neutral-900","dark:text-neutral-100"],[1,"flex","flex-col","gap-2"],[1,"flex","flex-row","gap-2"],["for","driverSelect",1,"text-neutral-900","dark:text-neutral-100"],["id","driverSelect","name","driverSelect",1,"border","rounded-sm","p-1","text-neutral-900","dark:text-neutral-100",3,"ngModelChange","change","disabled","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["for","refueling",1,"text-neutral-900","dark:text-neutral-100"],["type","checkbox","id","refueling","name","refueling",3,"change","ngModelChange","disabled","ngModel"],["for","tyreChange",1,"text-neutral-900","dark:text-neutral-100"],["type","checkbox","id","tyreChange","name","tyreChange",3,"ngModelChange","change","disabled","ngModel"],["for","interphoneChange",1,"text-neutral-900","dark:text-neutral-100"],["type","checkbox","id","interphoneChange","name","interphoneChange",3,"ngModelChange","change","disabled","ngModel"],["for","kartChange",1,"text-neutral-900","dark:text-neutral-100"],["type","checkbox","id","kartChange","name","kartChange",3,"ngModelChange","change","disabled","ngModel"]],template:function(t,n){t&1&&(r(0,"app-card",0)(1,"div",1),h(2,hr,1,1,"app-chip",2)(3,yr,1,1,"app-chip",2),f(4,"app-chip",3),a(),r(5,"div",4)(6,"div",5),h(7,Tr,12,7)(8,_r,1,4,"app-chip",6),a(),r(9,"div",7)(10,"button",8),D("click",function(){return n.pitIn()}),s(11," Pit in "),a(),h(12,Dr,1,2,"app-chip",3),r(13,"button",9),D("click",function(){return n.pitOut()}),s(14," Pit out "),a()()()()),t&2&&(c("initiallyOpen",!0),o(2),p(n.minPitSeconds()?2:-1),o(),p(n.maxPitSeconds()?3:-1),o(),c("text",n.pitLaneOpen()?"Open":"Close")("backgroundColor",n.pitLaneOpen()?"bg-green-500":"bg-red-500"),o(3),p(n.activePit()?8:7),o(3),c("disabled",!n.pitLaneOpen()||n.activePit()),o(2),p(n.pitLaneOpenInMilliseconds()>0?12:-1),o(),c("disabled",!n.activePit()||n.activePit()&&n.activePitRemainingMilliseconds()>0))},dependencies:[ie,Ee,Ke,Ge,At,je,De,ke,Me,we,N,x,T],encapsulation:2})};function kr(i,e){if(i&1){let t=re();r(0,"button",3),D("click",function(){G(t);let l=u(2);return H(l.startRace())}),s(1," Start race "),a()}}function wr(i,e){if(i&1){let t=re();r(0,"button",4),D("click",function(){G(t);let l=u(2);return H(l.endRace())}),s(1," End race "),a()}}function Mr(i,e){if(i&1&&(r(0,"div",0),h(1,kr,2,0,"button",1)(2,wr,2,0,"button",2),a()),i&2){let t=u();o(),p(t.willEndRaceDate()?-1:1),o(),p(t.hideEndRaceButton?-1:2)}}var ut=class i{raceService=d(A);raceConfigService=d(X);raceManagerService=d(Be);activeRace=this.raceService.activeRace;activeRaceConfig=this.raceConfigService.raceConfig;willEndRaceDate=this.raceService.willEndRaceDate;hideEndRaceButton=!0;constructor(){M({activeRace:y(this.activeRace),activeRaceConfig:y(this.activeRaceConfig),ping:E(1e3)}).pipe(R()).subscribe(({activeRace:e,activeRaceConfig:t})=>{e&&t?this.hideEndRaceButton=this.calculateHide(e,t):this.hideEndRaceButton=!0})}endRace(){this.raceManagerService.endRace()}calculateHide(e,t){if(e.endedAt!==null)return!0;let n=Ut(e.startedAt,t.durationHour);return Xt(n,new Date)>t.endRaceButtonThresholdSeconds||e.endedAt!==null}startRace(){let e=this.raceConfigService.raceConfig()?.startRaceDriverId;e&&this.raceManagerService.startRace(e)}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=S({type:i,selectors:[["app-race-button"]],decls:1,vars:1,consts:[[1,"flex","justify-center","items-center"],[1,"bg-green-500","hover:bg-green-700","text-neutral-100","font-bold","py-2","px-4","rounded-sm","hover:cursor-pointer"],[1,"bg-red-500","hover:bg-red-700","text-neutral-100","font-bold","py-2","px-4","rounded-sm","hover:cursor-pointer"],[1,"bg-green-500","hover:bg-green-700","text-neutral-100","font-bold","py-2","px-4","rounded-sm","hover:cursor-pointer",3,"click"],[1,"bg-red-500","hover:bg-red-700","text-neutral-100","font-bold","py-2","px-4","rounded-sm","hover:cursor-pointer",3,"click"]],template:function(t,n){t&1&&h(0,Mr,3,2,"div",0),t&2&&p(!n.hideEndRaceButton||!n.willEndRaceDate()?0:-1)},encapsulation:2})};function Er(i,e){if(i&1&&(r(0,"option",6),s(1),a()),i&2){let t=e.$implicit;c("value",t.id),o(),v(" ",t.raceName," ")}}function Lr(i,e){if(i&1){let t=re();r(0,"div",0)(1,"div",2)(2,"form")(3,"label",3),s(4,"Start driver"),a(),r(5,"select",4),Z("ngModelChange",function(l){G(t);let m=u();return $(m.selectedDriver,l)||(m.selectedDriver=l),H(l)}),D("change",function(){G(t);let l=u();return H(l.updateDriverId())}),h(6,Er,2,2,"option",5),a()()()()}if(i&2){let t=u();o(5),J("ngModel",t.selectedDriver),o(),c("ngForOf",t.drivers())}}function Rr(i,e){if(i&1&&(r(0,"div",1),s(1),a()),i&2){let t=u();o(),v(" ",t.endRaceCountdown," ")}}var ft=class i{raceService=d(A);raceConfigService=d(X);driverService=d(ne);drivers=this.driverService.drivers;willEndRaceDate=this.raceService.willEndRaceDate;endRaceCountdown="00:00:00";selectedDriver=1;constructor(){M({willEndRaceDate:y(this.willEndRaceDate),ping:E(1e3)}).pipe(R()).subscribe(e=>{let t=e.willEndRaceDate;t&&(Mi(new Date,t)?this.endRaceCountdown="00:00:00":this.endRaceCountdown=se(t))}),oe(()=>{let e=this.raceConfigService.raceConfig();e&&(this.selectedDriver=e.startRaceDriverId)})}updateDriverId(){this.raceConfigService.updateStartRaceDriverId(this.selectedDriver)}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=S({type:i,selectors:[["app-race"]],decls:2,vars:1,consts:[[1,"flex","items-center","justify-center"],[1,"text-center","text-2xl","md:text-4xl","text-neutral-900","dark:text-neutral-100","font-bold","font-mono"],[1,"font-bold","mr-2"],["for","driverSelect",1,"mr-2","text-neutral-900","dark:text-neutral-100"],["id","driverSelect","name","driverSelect",1,"border","border-neutral-400","dark:border-neutral-100","rounded-sm","p-1","text-neutral-900","dark:text-neutral-100","bg-neutral-50","dark:bg-neutral-800",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,n){t&1&&h(0,Lr,7,2,"div",0)(1,Rr,2,1,"div",1),t&2&&p(n.willEndRaceDate()?1:0)},dependencies:[ie,Ee,Ke,Ge,je,De,ke,Me,we,N],encapsulation:2})};var Ir=(i,e)=>({"bg-green-100 dark:bg-green-900 font-semibold":i,"hover:bg-neutral-100 dark:hover:bg-neutral-700":e});function Or(i,e){if(i&1&&f(0,"app-chip",3),i&2){let t=u();c("text","AVG: "+t.stintAVGString)("tooltipData",t.tooltipAVGInfo)("tooltipPosition",t.tooltipPosition)}}function Fr(i,e){if(i&1&&(r(0,"tr",18)(1,"td",19),s(2),a(),r(3,"td",20),s(4),a(),r(5,"td",17),s(6),a(),r(7,"td",17),s(8),U(9,"date"),a(),r(10,"td",17),s(11),a(),r(12,"td",17),s(13),a()()),i&2){let t=e.$implicit,n=u();c("ngClass",te(10,Ir,t.id===n.activeStintId(),t.id!==n.activeStintId())),o(2),w(t.id),o(2),v("",n.getDriverRacingName(t.driverId)," "),o(2),v("",n.getPace(t)," "),o(2),v("",q(9,7,t.startedAt,"HH:mm:ss")," "),o(3),v(" ",n.getEndDate(t)," "),o(2),v(" ",n.calculateTimeOnTrack(t.startedAt,t.endedAt)," ")}}var gt=class i{stintService=d(z);stintDataService=d(be);driverService=d(ne);stints=this.stintDataService.stints;activeStintId=g(()=>{let e=this.stintService.activeStint();if(e)return e.id});stintAVGMilliseconds=g(()=>{let e=this.stintService.stintAVGMilliseconds();return this.stintAVGString=Se(e),e});stintPaceStringById=g(()=>{let e=new Map;return this.stintService.stintPaceById().forEach((n,l)=>{e.set(l,V(n))}),e});stintAVGString="";tooltipAVGInfo={footer:"",paragraphs:["Only completed stint"],title:""};tooltipPosition="above";getDriverRacingName(e){let t=this.driverService.raceNameById().get(e);return t||""}calculateTimeOnTrack(e,t){return t?ee(e,t):ee(e,new Date)}calculateTotalTimeOnTrack(e){let t=0;return e.forEach(n=>{n.endedAt?t+=n.endedAt.getTime()-n.startedAt.getTime():t+=new Date().getTime()-n.startedAt.getTime()}),Se(t)}getEndDate(e){if(e.endedAt)return le(e.endedAt,"HH:mm:ss");let t=Ye(e.startedAt,e.optimizedMilliseconds);return"("+le(t,"HH:mm:ss")+")"}getPace(e){return this.stintPaceStringById().get(e.id)??"--:--.---"}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=S({type:i,selectors:[["app-stint"]],decls:32,vars:5,consts:[["title","\u23F3 Stint",3,"initiallyOpen"],["slot","header-right-content",1,"flex","items-center","gap-1"],[3,"text"],["tooltip","",3,"text","tooltipData","tooltipPosition"],["slot","body-content",1,"max-h-72","flex","flex-col","overflow-clip"],[1,"w-full","bg-neutral-50","dark:bg-neutral-800","table-fixed"],[1,"sticky","top-0"],[1,"py-2","px-3","border-b","border-neutral-200","dark:border-neutral-400","text-left","text-xs","md:text-base","font-medium","text-neutral-700","dark:text-neutral-400"],[1,"py-2","border-b","border-neutral-200","dark:border-neutral-400","text-left","text-xs","md:text-base","font-medium","text-neutral-700","dark:text-neutral-400"],["colspan","2",1,"py-2","px-3","border-b","border-neutral-200","dark:border-neutral-400","text-center","text-xs","md:text-base","font-medium","text-neutral-700","dark:text-neutral-400"],[1,"flex-1","overflow-y-auto"],[1,"w-full","table-fixed"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"flex"],[1,"sticky","bottom-0-0"],[1,"bg-neutral-100","dark:bg-neutral-700","font-bold"],["colspan","8",1,"py-2","px-3","border-b","border-neutral-200","dark:border-neutral-400","text-xs","md:text-base","text-neutral-900","dark:text-neutral-100"],["colspan","2",1,"py-2","border-b","border-neutral-200","dark:border-neutral-400","text-center","text-xs","md:text-base","text-neutral-900","dark:text-neutral-100","font-mono"],[3,"ngClass"],[1,"py-2","px-3","border-b","border-neutral-200","dark:border-neutral-400","text-xs","md:text-base","text-neutral-900","dark:text-neutral-100"],[1,"py-2","border-b","border-neutral-200","dark:border-neutral-400","text-xs","md:text-base","text-neutral-900","dark:text-neutral-100"]],template:function(t,n){t&1&&(r(0,"app-card",0)(1,"div",1),f(2,"app-chip",2),h(3,Or,1,3,"app-chip",3),a(),r(4,"div",4)(5,"table",5)(6,"thead",6)(7,"tr")(8,"th",7),s(9," ID "),a(),r(10,"th",8),s(11," Driver "),a(),r(12,"th",9),s(13,"Lap AVG "),a(),r(14,"th",9),s(15,"Start "),a(),r(16,"th",9),s(17,"End "),a(),r(18,"th",9),s(19,"On track "),a()()()(),r(20,"div",10)(21,"table",11)(22,"tbody"),h(23,Fr,14,13,"tr",12),a()()(),r(24,"div",13)(25,"table",11)(26,"tfoot",14)(27,"tr",15)(28,"td",16),s(29,"Totals "),a(),r(30,"td",17),s(31),a()()()()()()()),t&2&&(c("initiallyOpen",!1),o(2),c("text","Total: "+n.stints().length),o(),p(n.stintAVGMilliseconds()!=0?3:-1),o(20),c("ngForOf",n.stints()),o(8),v("",n.calculateTotalTimeOnTrack(n.stints())," "))},dependencies:[F,N,de,he,x,T],encapsulation:2})};var vt=class i{stintOptimizerService=d(ue);AVGStintTime=g(()=>{let e=this.stintOptimizerService.optimizedStint();return e?Y(e.avgStintMillisecondsTime):"--:--:--"});laps=g(()=>{let e=this.stintOptimizerService.optimizedStint();return e?e.laps:0});AVGStintTimeIfDriverChangeNow=g(()=>{let e=this.stintOptimizerService.optimizedStint();return e?Y(e.avgStintMillisecondsIfDriverChangedNow):"--:--:--"});lapsIfDriverChangeNow=g(()=>{let e=this.stintOptimizerService.optimizedStint();return e?e.lapsIfDriverChangeNow:0});static \u0275fac=function(t){return new(t||i)};static \u0275cmp=S({type:i,selectors:[["app-stint-optimizer"]],decls:30,vars:7,consts:[["title","\u{1F9E0} Stint optimizer",3,"initiallyOpen"],["slot","header-right-content",1,"flex","items-center","gap-1"],[3,"text"],["slot","body-content",1,"flex","flex-col","gap-2"],[1,"flex","justify-between"],[1,"text-neutral-500","dark:text-neutral-400"],[1,"text-neutral-900","dark:text-neutral-100","font-mono"],[1,"text-neutral-500","dark:text-neutral-400","text-right"],[1,"text-neutral-900","dark:text-neutral-100","font-mono","text-right"]],template:function(t,n){t&1&&(r(0,"app-card",0)(1,"div",1),f(2,"app-chip",2)(3,"app-chip",2),a(),r(4,"div",3)(5,"div",4)(6,"div")(7,"div",5),s(8,"Optimized AVG time"),a(),r(9,"div",6),s(10),a()(),r(11,"div")(12,"div",7),s(13,"Laps"),a(),r(14,"div",8),s(15),a()()(),f(16,"hr"),r(17,"div",4)(18,"div")(19,"div",5),s(20," Optimized AVG time "),r(21,"strong"),s(22,"if driver change now"),a()(),r(23,"div",6),s(24),a()(),r(25,"div")(26,"div",7),s(27,"Laps"),a(),r(28,"div",8),s(29),a()()()()()),t&2&&(c("initiallyOpen",!1),o(2),c("text","Optimum: "+n.AVGStintTime()),o(),c("text","Laps: "+n.laps()),o(7),v(" ",n.AVGStintTime()," "),o(5),v(" ",n.laps()," "),o(9),v(" ",n.AVGStintTimeIfDriverChangeNow()," "),o(5),v(" ",n.lapsIfDriverChangeNow()," "))},dependencies:[x,T],encapsulation:2})};var ht=class i{stintDataService=d(be);pitService=d(W);pitDataService=d(Ce);stintOptimizerService=d(ue);pitConfigService=d(me);tyreService=d(pe);worker;timelineSteps=C([]);constructor(){typeof Worker<"u"&&(this.worker=new Worker(new URL("worker-HJZP2OQ5.js",import.meta.url),{type:"module"}),this.worker.onmessage=({data:e})=>{this.timelineSteps.set(e.timelineSteps)}),M({stints:y(this.stintDataService.stints),pits:y(this.pitDataService.pits),remainingDriverChanges:y(this.pitService.remainingDriverChanges),pitConfig:y(this.pitConfigService.pitConfig),optimizedStint:y(this.stintOptimizerService.optimizedStint),remainingTyreChange:y(this.tyreService.remainingTyreChange),ping:E(1e3)}).pipe(R()).subscribe(({stints:e,pits:t,remainingDriverChanges:n,pitConfig:l,optimizedStint:m,remainingTyreChange:b})=>{this.worker&&l&&this.worker.postMessage({stints:e,pits:t,remainingDriverChanges:n,pitConfig:l,optimizedStint:m,remainingTyreChange:b})})}static \u0275fac=function(t){return new(t||i)};static \u0275prov=L({token:i,factory:i.\u0275fac,providedIn:"root"})};function Wr(i,e){if(i&1&&(r(0,"div",2),s(1),a()),i&2){let t=u(),n=t.$implicit,l=t.index,m=u(2);c("ngClass",m.getStintColor(n))("tooltipData",m.getStintTooltipInfo(n))("tooltipPosition",m.getTooltipPosition(l)),o(),v(" ",m.getStintIcon(n)," ")}}function Vr(i,e){if(i&1&&(r(0,"div",3),s(1),a()),i&2){let t=u(),n=t.$implicit,l=t.index,m=u(2);c("ngClass",m.getPitColor(n))("tooltipData",m.getPitTooltipInfo(n))("tooltipPosition",m.getTooltipPosition(l)),o(),v(" ",m.getPitIcon(n)," ")}}function Br(i,e){if(i&1&&(Wt(0),h(1,Wr,2,4,"div",2)(2,Vr,2,4,"div",3),Vt()),i&2){let t=e.$implicit;o(),p(t.type==="STINT"?1:2)}}function Nr(i,e){if(i&1&&(r(0,"div",0),h(1,Br,3,1,"ng-container",1),a()),i&2){let t=u();o(),c("ngForOf",t.timelineSteps())}}var yt=class i{timelineService=d(ht);timelineConfigService=d(ii);driverService=d(ne);timelineSteps=this.timelineService.timelineSteps;visibleAfterMinWidthPixel=g(()=>{let e=this.timelineConfigService.timelineConfig();return e?e.visibleAfterMinWidthPixel:1500});hide=!1;constructor(){this.onResize(),window.addEventListener("resize",this.onResize.bind(this))}onResize(){this.hide=window.innerWidth<=this.visibleAfterMinWidthPixel()}getTooltipPosition(e){let t=this.timelineSteps().length;if(t<=9)return"below";let n=Math.floor(t/10);return e<n?"right":e>=t-n?"left":"below"}getStintColor(e){return e.status==="DONE"?"bg-blue-400":e.status==="FUTURE"?"bg-blue-100":"bg-green-500"}getStintIcon(e){return e.status==="ACTIVE"?"\u{1F3CE}\uFE0F":"\u23F3"}getStintTooltipInfo(e){return{footer:"",paragraphs:[this.getStintTimeInfo(e),this.getDriverInfo(e),this.getStintTyrePressureInfo(e)].filter(Boolean),title:this.getTooltipTitle(e)}}getStintTimeInfo(e){let t=[];t.push("Start: "+le(e.start,"HH:mm:ss"));let n=e.stint?e.stint.optimizedMilliseconds??0:0;switch(e.status){case"ACTIVE":t.push("On track: "+ee(e.start,new Date)),t.push("Optimum: "+Y(n)),t.push("End: ("+le(Ye(e.start,n),"HH:mm:ss")+")");break;case"DONE":t.push("On track: "+ee(e.start,e.end)),t.push("Optimum: "+Y(n)),t.push("End: "+(e.end?le(e.end,"HH:mm:ss"):""));break;case"FUTURE":t.push("Optimum: "+Y(e.durationMills)),t.push("End: "+(e.end?le(e.end,"HH:mm:ss"):""));break}return t.filter(Boolean).join(`
`)}getStintTyrePressureInfo(e){let t=[];if(e.stint){let n=[];e.stint.frontLeftTyrePressurePsi&&n.push("FL: "+e.stint.frontLeftTyrePressurePsi+" psi"),e.stint.frontRightTyrePressurePsi&&n.push("FR: "+e.stint.frontRightTyrePressurePsi+" psi"),n.length>0&&t.push(n.join(" | "));let l=[];e.stint.rearLeftTyrePressurePsi&&l.push("RL: "+e.stint.rearLeftTyrePressurePsi+" psi"),e.stint.rearRightTyrePressurePsi&&l.push("RR: "+e.stint.rearRightTyrePressurePsi+" psi"),l.length>0&&t.push(l.join(" | "))}return t.filter(Boolean).join(`
`)}getPitColor(e){return e.status==="DONE"?"bg-amber-400":e.status==="FUTURE"?"bg-amber-100":"bg-green-500"}getPitIcon(e){return e.status==="ACTIVE"?"\u{1F17F}\uFE0F":"\u{1F468}\u{1F3FB}\u200D\u{1F527}"}getPitTooltipInfo(e){let t=[this.getPitTimeInfo(e),this.getDriverInfo(e)].filter(Boolean);return{footer:this.getPitFooter(e),paragraphs:t,title:this.getTooltipTitle(e)}}getPitTimeInfo(e){let t=[];switch(t.push("Enter: "+le(e.start,"HH:mm:ss")),e.status){case"ACTIVE":t.push("Time: "+ee(e.start,new Date));break;case"DONE":t.push("Time: "+Y(e.durationMills)),t.push("Exit: "+(e.end?le(e.end,"HH:mm:ss"):""));break;case"FUTURE":t.push("Time: "+Y(e.durationMills)),t.push("Exit: "+(e.end?le(e.end,"HH:mm:ss"):""));break}return t.filter(Boolean).join(`
`)}getPitFooter(e){let t=[];return e.pit&&(e.pit.entryDriverId!==e.pit.exitDriverId&&t.push("\u{1F417}"),e.pit.refuel&&t.push("\u26FD\uFE0F"),e.pit.tyreChange&&t.push("\u{1F6DE}\uFE0F"),e.pit.interphoneChange&&t.push("\u{1F50A}"),e.pit.kartChange&&t.push("\u{1F3CE}\uFE0F")),t.join(" | ")}getTooltipTitle(e){if(e.type==="STINT"){let t=e.stint?"("+e.stint.id+")":"";return e.status==="ACTIVE"?"Active stint "+t:e.status==="DONE"?"Stint "+t:"Future stint"}if(e.type==="PIT"){let t=e.pit?"("+e.pit.id+")":"";return e.status==="ACTIVE"?"Active pit "+t:e.status==="DONE"?"Pit "+t:"Future pit"}return""}getDriverInfo(e){if(e.type==="STINT"&&e.stint)return"Driver: "+this.getDriverRacingName(e.stint.driverId);if(e.type==="PIT"&&e.pit){let t="Driver in: "+this.getDriverRacingName(e.pit.entryDriverId),n="Driver out: "+this.getDriverRacingName(e.pit.exitDriverId);return t+`
`+n}return""}getDriverRacingName(e){let n=this.driverService.drivers().find(l=>l.id===e);return n?n.raceName:""}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=S({type:i,selectors:[["app-timeline"]],decls:1,vars:1,consts:[[1,"mb-3","flex","justify-center","items-center"],[4,"ngFor","ngForOf"],["tooltip","",1,"flex-1","flex","px-1","py-3","justify-center","items-center",3,"ngClass","tooltipData","tooltipPosition"],["tooltip","",1,"flex-0","flex","px-1","py-3","justify-center","items-center",3,"ngClass","tooltipData","tooltipPosition"]],template:function(t,n){t&1&&h(0,Nr,2,1,"div",0),t&2&&p(n.hide?-1:0)},dependencies:[N,F,he],encapsulation:2})};function Ar(i,e){if(i&1&&(s(0),U(1,"date")),i&2){let t=u();v(" ",q(1,1,t.openingTime(),"HH:mm:ss")," ")}}function jr(i,e){i&1&&s(0," --:--:-- ")}function Kr(i,e){if(i&1&&(s(0),U(1,"date")),i&2){let t=u();v(" ",q(1,1,t.closingTime(),"HH:mm:ss")," ")}}function Gr(i,e){i&1&&s(0," --:--:-- ")}var bt=class i{tyreService=d(pe);openingTime=this.tyreService.openingTime;closingTime=this.tyreService.closingTime;remainingTyreChange=this.tyreService.remainingTyreChange;tyreChangeWindowOpen=this.tyreService.tyreChangeWindowOpen;countdownOpeningTime=g(()=>se(this.tyreService.openingTime()));countdownClosingTime=g(()=>se(this.tyreService.closingTime()));static \u0275fac=function(t){return new(t||i)};static \u0275cmp=S({type:i,selectors:[["app-tyre-change"]],decls:30,vars:10,consts:[["title","\u{1F6DE} \u{1F504} Tyre change",3,"initiallyOpen"],["slot","header-right-content",1,"flex","items-center","gap-1"],[3,"text","backgroundColor"],[3,"text","backgroundColor","bounceCondition"],["slot","body-content",1,"flex","flex-col","gap-2"],[1,"flex","justify-between"],[1,"text-neutral-500","dark:text-neutral-400"],[1,"text-neutral-900","dark:text-neutral-100","font-mono"],[1,"text-neutral-500","dark:text-neutral-400","text-right"],[1,"text-neutral-900","dark:text-neutral-100","font-mono","text-right"]],template:function(t,n){t&1&&(r(0,"app-card",0)(1,"div",1),f(2,"app-chip",2)(3,"app-chip",3),a(),r(4,"div",4)(5,"div",5)(6,"div")(7,"div",6),s(8,"Opening time"),a(),r(9,"div",7),h(10,Ar,2,4)(11,jr,1,0),a()(),r(12,"div")(13,"div",8),s(14,"Opening in"),a(),r(15,"div",9),s(16),a()()(),f(17,"hr"),r(18,"div",5)(19,"div")(20,"div",6),s(21,"Closing time"),a(),r(22,"div",7),h(23,Kr,2,4)(24,Gr,1,0),a()(),r(25,"div")(26,"div",8),s(27,"Closing in"),a(),r(28,"div",9),s(29),a()()()()()),t&2&&(c("initiallyOpen",!1),o(2),c("text",n.remainingTyreChange()>0?"Remaining: "+n.remainingTyreChange():"Completed")("backgroundColor",n.remainingTyreChange()>0?"bg-yellow-500":"bg-green-500"),o(),c("text",n.tyreChangeWindowOpen()?"Window open":"Window close")("backgroundColor",n.tyreChangeWindowOpen()?"bg-green-500":"bg-red-500")("bounceCondition",n.remainingTyreChange()>0),o(7),p(n.openingTime()?10:11),o(6),v(" ",n.countdownOpeningTime()," "),o(7),p(n.closingTime()?23:24),o(6),v(" ",n.countdownClosingTime()," "))},dependencies:[de,x,T],encapsulation:2})};function Hr(i,e){if(i&1&&f(0,"app-chip",2),i&2){let t=u();c("text","P: "+t.teamRacePosition())}}function Yr(i,e){if(i&1&&f(0,"app-chip",2),i&2){let t=u();c("text","Last: "+t.lastTeamLapString())}}function zr(i,e){if(i&1&&f(0,"app-chip",3),i&2){let t=u();c("text",(t.lastTeamLapDeltaMilliseconds()>0?"+ ":"- ")+t.lastTeamLapDeltaMillisecondsString())("backgroundColor",t.lastTeamLapDeltaMilliseconds()>0?"bg-red-500":"bg-green-500")}}function Ur(i,e){if(i&1&&s(0),i&2){let t=u();v(" ",t.teamRacePosition()," ")}}function qr(i,e){i&1&&s(0," -- ")}function Xr(i,e){i&1&&s(0," + ")}function Qr(i,e){i&1&&s(0," - ")}function Jr(i,e){i&1&&s(0," + ")}function $r(i,e){i&1&&s(0," - ")}function Zr(i,e){if(i&1&&h(0,Jr,1,0)(1,$r,1,0),i&2){let t=u();p(t.lastTeamLapDeltaMilliseconds()>0?0:t.lastTeamLapDeltaMilliseconds()<0?1:-1)}}var Ct=class i{stintService=d(z);lapService=d(Re);racePositionService=d(ri);gapService=d(ai);currentStintAvgString=g(()=>{let e=this.stintService.stintPaceById(),t=this.stintService.activeStint();return t?V(e.get(t.id)??0):"--:--.---"});currentStintBestLapString=g(()=>{let e=this.stintService.stintBestLapById(),t=this.stintService.activeStint();return t?V(e.get(t.id)??0):"--:--.---"});lastTeamLap=this.lapService.lastTeamLap;lastTeamLapString=g(()=>{let e=this.lapService.lastTeamLap();return e?V(e.lapMilliseconds):"--:--.---"});lastTeamLapDeltaMilliseconds=this.lapService.lastTeamLapDeltaMilliseconds;lastTeamLapDeltaMillisecondsString=g(()=>{let e=this.lapService.lastTeamLapDeltaMilliseconds();return e?e<0?V(Math.abs(e)):ni(e):"--.---"});teamRacePosition=this.racePositionService.teamRacePosition;gapAheadMilliseconds=this.gapService.gapAheadMilliseconds;gapAheadMillisecondsString=g(()=>{let e=this.gapService.gapAheadMilliseconds();return e?V(e):"--:--.---"});gapBehindMilliseconds=this.gapService.gapBehindMilliseconds;gapBehindMillisecondsString=g(()=>{let e=this.gapService.gapBehindMilliseconds();return e?V(Math.abs(e)):"--:--.---"});static \u0275fac=function(t){return new(t||i)};static \u0275cmp=S({type:i,selectors:[["app-live-timing"]],decls:51,vars:14,consts:[["title","\u{1F417}\u{1F4A8} Live timing",3,"initiallyOpen"],["slot","header-right-content",1,"flex","items-center","gap-1"],[3,"text"],[3,"text","backgroundColor"],["slot","body-content",1,"flex","flex-col","gap-2"],[1,"flex","justify-between"],[1,"text-neutral-500","dark:text-neutral-400"],[1,"text-neutral-900","dark:text-neutral-100","font-mono"],[1,"text-neutral-500","dark:text-neutral-400","text-right"],[1,"text-neutral-900","dark:text-neutral-100","font-mono","text-right"]],template:function(t,n){t&1&&(r(0,"app-card",0)(1,"div",1),h(2,Hr,1,1,"app-chip",2)(3,Yr,1,1,"app-chip",2)(4,zr,1,2,"app-chip",3),a(),r(5,"div",4)(6,"div",5)(7,"div")(8,"div",6),s(9,"Position"),a(),r(10,"div",7),h(11,Ur,1,1)(12,qr,1,0),a()()(),r(13,"div",5)(14,"div")(15,"div",6),s(16,"Gap ahead"),a(),r(17,"div",7),h(18,Xr,1,0),s(19),a()(),r(20,"div")(21,"div",8),s(22,"Gap behind"),a(),r(23,"div",9),h(24,Qr,1,0),s(25),a()()(),f(26,"hr"),r(27,"div",5)(28,"div")(29,"div",6),s(30,"Last lap"),a(),r(31,"div",7),s(32),a()(),r(33,"div")(34,"div",8),s(35,"Delta"),a(),r(36,"div",9),h(37,Zr,2,1),s(38),a()()(),f(39,"hr"),r(40,"div",5)(41,"div")(42,"div",6),s(43,"Current stint best lap"),a(),r(44,"div",7),s(45),a()(),r(46,"div")(47,"div",8),s(48,"Current stint AVG"),a(),r(49,"div",9),s(50),a()()()()()),t&2&&(c("initiallyOpen",!0),o(2),p(n.teamRacePosition()?2:-1),o(),p(n.lastTeamLap()?3:-1),o(),p(n.lastTeamLapDeltaMilliseconds()?4:-1),o(7),p(n.teamRacePosition()!==void 0?11:12),o(7),p(n.gapAheadMilliseconds()?18:-1),o(),v(" ",n.gapAheadMillisecondsString()," "),o(5),p(n.gapBehindMilliseconds()?24:-1),o(),v(" ",n.gapBehindMillisecondsString()," "),o(7),w(n.lastTeamLapString()),o(5),p(n.lastTeamLapDeltaMilliseconds()!==void 0&&n.lastTeamLapDeltaMilliseconds()!==null?37:-1),o(),v(" ",n.lastTeamLapDeltaMillisecondsString()," "),o(7),v("",n.currentStintBestLapString()," "),o(5),w(n.currentStintAvgString()))},dependencies:[x,T],encapsulation:2})};var St=class i{tyreConfigService=d(Ie);notificationService=d(Le);frontLeftTyrePressurePsi=0;frontRightTyrePressurePsi=0;rearLeftTyrePressurePsi=0;rearRightTyrePressurePsi=0;minTyrePressurePsi=0;maxTyrePressurePsi=0;constructor(){oe(()=>{let e=this.tyreConfigService.tyreConfig();e&&(this.frontLeftTyrePressurePsi=e.frontLeftTyrePressurePsi,this.frontRightTyrePressurePsi=e.frontRightTyrePressurePsi,this.rearLeftTyrePressurePsi=e.rearLeftTyrePressurePsi,this.rearRightTyrePressurePsi=e.rearRightTyrePressurePsi,this.minTyrePressurePsi=e.minTyrePressurePsi,this.maxTyrePressurePsi=e.maxTyrePressurePsi)})}onSubmitFrontLeftTyrePressurePsi(){if(this.frontLeftTyrePressurePsi>=this.minTyrePressurePsi&&this.frontLeftTyrePressurePsi<=this.maxTyrePressurePsi)this.tyreConfigService.updateFrontLeftTyrePressurePsi(this.frontLeftTyrePressurePsi);else{this.notificationService.warning("Invalid tyre pressure. Please enter a value between "+this.minTyrePressurePsi+" and "+this.maxTyrePressurePsi+" psi.");let e=this.tyreConfigService.tyreConfig();e&&(this.frontLeftTyrePressurePsi=e.frontLeftTyrePressurePsi)}}increaseFrontLeftTyrePressurePsi(){this.tyreConfigService.updateFrontLeftTyrePressurePsi(this.frontLeftTyrePressurePsi+1)}decreaseFrontLeftTyrePressurePsi(){this.tyreConfigService.updateFrontLeftTyrePressurePsi(this.frontLeftTyrePressurePsi-1)}onSubmitFrontRightTyrePressurePsi(){if(this.frontRightTyrePressurePsi>=this.minTyrePressurePsi&&this.frontRightTyrePressurePsi<=this.maxTyrePressurePsi)this.tyreConfigService.updateFrontRightTyrePressurePsi(this.frontRightTyrePressurePsi);else{this.notificationService.warning("Invalid tyre pressure. Please enter a value between "+this.minTyrePressurePsi+" and "+this.maxTyrePressurePsi+" psi.");let e=this.tyreConfigService.tyreConfig();e&&(this.frontRightTyrePressurePsi=e.frontRightTyrePressurePsi)}}increaseFrontRightTyrePressurePsi(){this.tyreConfigService.updateFrontRightTyrePressurePsi(this.frontRightTyrePressurePsi+1)}decreaseFrontRightTyrePressurePsi(){this.tyreConfigService.updateFrontRightTyrePressurePsi(this.frontRightTyrePressurePsi-1)}onSubmitRearLeftTyrePressurePsi(){if(this.rearLeftTyrePressurePsi>=this.minTyrePressurePsi&&this.rearLeftTyrePressurePsi<=this.maxTyrePressurePsi)this.tyreConfigService.updateRearLeftTyrePressurePsi(this.rearLeftTyrePressurePsi);else{this.notificationService.warning("Invalid tyre pressure. Please enter a value between "+this.minTyrePressurePsi+" and "+this.maxTyrePressurePsi+" psi.");let e=this.tyreConfigService.tyreConfig();e&&(this.rearLeftTyrePressurePsi=e.rearLeftTyrePressurePsi)}}increaseRearLeftTyrePressurePsi(){this.tyreConfigService.updateRearLeftTyrePressurePsi(this.rearLeftTyrePressurePsi+1)}decreaseRearLeftTyrePressurePsi(){this.tyreConfigService.updateRearLeftTyrePressurePsi(this.rearLeftTyrePressurePsi-1)}onSubmitRearRightTyrePressurePsi(){if(this.rearRightTyrePressurePsi>=this.minTyrePressurePsi&&this.rearRightTyrePressurePsi<=this.maxTyrePressurePsi)this.tyreConfigService.updateRearRightTyrePressurePsi(this.rearRightTyrePressurePsi);else{this.notificationService.warning("Invalid tyre pressure. Please enter a value between "+this.minTyrePressurePsi+" and "+this.maxTyrePressurePsi+" psi.");let e=this.tyreConfigService.tyreConfig();e&&(this.rearRightTyrePressurePsi=e.rearRightTyrePressurePsi)}}increaseRearRightTyrePressurePsi(){this.tyreConfigService.updateRearRightTyrePressurePsi(this.rearRightTyrePressurePsi+1)}decreaseRearRightTyrePressurePsi(){this.tyreConfigService.updateRearRightTyrePressurePsi(this.rearRightTyrePressurePsi-1)}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=S({type:i,selectors:[["app-tyre-pressure"]],decls:45,vars:21,consts:[["title","\u{1F6DE}\u{1F4A8} Tyre pressure",3,"initiallyOpen"],["slot","body-content",1,"flex","flex-col","gap-2"],[1,"flex","justify-between"],[1,"text-neutral-500","dark:text-neutral-400","text-left"],[1,"flex","justify-start","flex-row","gap-1"],[1,"bg-neutral-200","hover:bg-neutral-400","active:bg-neutral-500","disabled:bg-neutral-100","text-neutral-900","px-4","rounded-sm","hover:cursor-pointer",3,"click","disabled"],[1,"text-right",3,"ngSubmit"],["type","number","id","frontLeftTyrePressurePsi","name","frontLeftTyrePressurePsi","required","",1,"border","rounded-lg","px-2","py-1","w-20","text-right","text-neutral-900","dark:text-neutral-100",3,"ngModelChange","ngModel","min","max"],[1,"text-neutral-500","dark:text-neutral-400","text-right"],[1,"flex","justify-end","flex-row","gap-1"],["type","number","id","frontRightTyrePressurePsi","name","frontRightTyrePressurePsi","required","",1,"border","rounded-lg","px-2","py-1","w-20","text-right","text-neutral-900","dark:text-neutral-100",3,"ngModelChange","ngModel","min","max"],["type","number","id","rearLeftTyrePressurePsi","name","rearLeftTyrePressurePsi","required","",1,"border","rounded-lg","px-2","py-1","w-20","text-right","text-neutral-900","dark:text-neutral-100",3,"ngModelChange","ngModel","min","max"],["type","number","id","rearRightTyrePressurePsi","name","rearRightTyrePressurePsi","required","",1,"border","rounded-lg","px-2","py-1","w-20","text-right","text-neutral-900","dark:text-neutral-100",3,"ngModelChange","ngModel","min","max"]],template:function(t,n){t&1&&(r(0,"app-card",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3),s(5,"Front left (PSI)"),a(),r(6,"div",4)(7,"button",5),D("click",function(){return n.increaseFrontLeftTyrePressurePsi()}),s(8," + "),a(),r(9,"form",6),D("ngSubmit",function(){return n.onSubmitFrontLeftTyrePressurePsi()}),r(10,"input",7),Z("ngModelChange",function(m){return $(n.frontLeftTyrePressurePsi,m)||(n.frontLeftTyrePressurePsi=m),m}),a()(),r(11,"button",5),D("click",function(){return n.decreaseFrontLeftTyrePressurePsi()}),s(12," - "),a()()(),r(13,"div")(14,"div",8),s(15,"Front right (PSI)"),a(),r(16,"div",9)(17,"button",5),D("click",function(){return n.increaseFrontRightTyrePressurePsi()}),s(18," + "),a(),r(19,"form",6),D("ngSubmit",function(){return n.onSubmitFrontRightTyrePressurePsi()}),r(20,"input",10),Z("ngModelChange",function(m){return $(n.frontRightTyrePressurePsi,m)||(n.frontRightTyrePressurePsi=m),m}),a()(),r(21,"button",5),D("click",function(){return n.decreaseFrontRightTyrePressurePsi()}),s(22," - "),a()()()(),f(23,"hr"),r(24,"div",2)(25,"div")(26,"div",3),s(27,"Rear left (PSI)"),a(),r(28,"div",4)(29,"button",5),D("click",function(){return n.increaseRearLeftTyrePressurePsi()}),s(30," + "),a(),r(31,"form",6),D("ngSubmit",function(){return n.onSubmitRearLeftTyrePressurePsi()}),r(32,"input",11),Z("ngModelChange",function(m){return $(n.rearLeftTyrePressurePsi,m)||(n.rearLeftTyrePressurePsi=m),m}),a()(),r(33,"button",5),D("click",function(){return n.decreaseRearLeftTyrePressurePsi()}),s(34," - "),a()()(),r(35,"div")(36,"div",8),s(37,"Rear right (PSI)"),a(),r(38,"div",9)(39,"button",5),D("click",function(){return n.increaseRearRightTyrePressurePsi()}),s(40," + "),a(),r(41,"form",6),D("ngSubmit",function(){return n.onSubmitRearRightTyrePressurePsi()}),r(42,"input",12),Z("ngModelChange",function(m){return $(n.rearRightTyrePressurePsi,m)||(n.rearRightTyrePressurePsi=m),m}),a()(),r(43,"button",5),D("click",function(){return n.decreaseRearRightTyrePressurePsi()}),s(44," - "),a()()()()()()),t&2&&(c("initiallyOpen",!0),o(7),c("disabled",n.frontLeftTyrePressurePsi>=n.maxTyrePressurePsi),o(3),J("ngModel",n.frontLeftTyrePressurePsi),c("min",n.minTyrePressurePsi)("max",n.maxTyrePressurePsi),o(),c("disabled",n.frontLeftTyrePressurePsi<=n.minTyrePressurePsi),o(6),c("disabled",n.frontRightTyrePressurePsi>=n.maxTyrePressurePsi),o(3),J("ngModel",n.frontRightTyrePressurePsi),c("min",n.minTyrePressurePsi)("max",n.maxTyrePressurePsi),o(),c("disabled",n.frontRightTyrePressurePsi<=n.minTyrePressurePsi),o(8),c("disabled",n.rearLeftTyrePressurePsi>=n.maxTyrePressurePsi),o(3),J("ngModel",n.rearLeftTyrePressurePsi),c("min",n.minTyrePressurePsi)("max",n.maxTyrePressurePsi),o(),c("disabled",n.rearLeftTyrePressurePsi<=n.minTyrePressurePsi),o(6),c("disabled",n.rearRightTyrePressurePsi>=n.maxTyrePressurePsi),o(3),J("ngModel",n.rearRightTyrePressurePsi),c("min",n.minTyrePressurePsi)("max",n.maxTyrePressurePsi),o(),c("disabled",n.rearRightTyrePressurePsi<=n.minTyrePressurePsi))},dependencies:[x,ie,Ee,jt,Kt,De,ke,Yt,Ht,Gt,Me,we],encapsulation:2})};var ea=(i,e)=>({"bg-green-100 dark:bg-green-900 font-semibold":i,"hover:bg-neutral-100 dark:hover:bg-neutral-700":e}),Li=i=>({"bg-fuchsia-500 text-white":i});function ta(i,e){if(i&1&&f(0,"app-chip",2),i&2){let t=u();c("text","Lap: "+t.teamBestLapString())("backgroundColor","bg-fuchsia-500")}}function ia(i,e){if(i&1&&f(0,"app-chip",2),i&2){let t=u();c("text","AVG: "+t.bestPaceString())("backgroundColor","bg-fuchsia-500")}}function na(i,e){if(i&1&&(r(0,"tr",12)(1,"td",13),s(2),a(),r(3,"td",14),s(4),a(),r(5,"td",15)(6,"div",16),s(7),a()(),r(8,"td",15)(9,"div",16),s(10),a()(),r(11,"td",15),s(12),a()()),i&2){let t=e.$implicit,n=u();c("ngClass",te(8,ea,t.id===n.activeStintDriverId(),t.id!==n.activeStintDriverId())),o(2),w(t.id),o(2),w(t.raceName),o(2),c("ngClass",ae(11,Li,n.isBestLap(t.id))),o(),v(" ",n.getBestLap(t.id)," "),o(2),c("ngClass",ae(13,Li,n.isBestPace(t.id))),o(),v(" ",n.getPace(t.id)," "),o(2),v(" ",n.getLastStintPace(t.id)," ")}}var xt=class i{driverService=d(ne);stintService=d(z);lapService=d(Re);drivers=this.driverService.drivers;teamBestLap=this.lapService.teamBestLap;activeStintDriverId=g(()=>{let e=this.stintService.activeStint();if(e)return e.driverId});driverBestLapStringById=g(()=>{let e=new Map;return this.driverService.driverBestLapById().forEach((n,l)=>{e.set(l,V(n))}),e});driverPaceStringById=g(()=>{let e=new Map;return this.driverService.driverPaceById().forEach((n,l)=>{e.set(l,V(n))}),e});teamBestLapString=g(()=>{let e=this.lapService.teamBestLap();if(e)return V(e.lapMilliseconds)});bestPaceString=g(()=>{let e=this.driverService.driverBestPaceMillisecond();if(e)return V(e)});lastCompletedStintPaceStringByDriverId=g(()=>{let e=new Map,t=this.driverService.driverLastStintIdByDriverId(),n=this.stintService.stintPaceById();return t.forEach((l,m)=>{let b=n.get(l);b&&e.set(m,V(b))}),e});getBestLap(e){return this.driverBestLapStringById().get(e)??"--:--.---"}getPace(e){return this.driverPaceStringById().get(e)??"--:--.---"}isBestLap(e){let t=this.lapService.teamBestLap();return t?t.driverId===e:!1}isBestPace(e){let t=this.driverService.driverIdBestPace();return t?t===e:!1}getLastStintPace(e){return this.lastCompletedStintPaceStringByDriverId().get(e)??"--:--.---"}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=S({type:i,selectors:[["app-driver-performance"]],decls:22,vars:4,consts:[["title","\u{1F417}\u{1F4AA}\u{1F3FC} Driver performance",3,"initiallyOpen"],["slot","header-right-content",1,"flex","items-center","gap-1"],[3,"text","backgroundColor"],["slot","body-content",1,"flex","flex-col","overflow-clip"],[1,"w-full","bg-neutral-50","dark:bg-neutral-800","table-fixed"],[1,"sticky","top-0"],[1,"py-2","px-3","border-b","border-neutral-200","dark:border-neutral-400","text-left","text-xs","md:text-base","font-medium","text-neutral-700","dark:text-neutral-400"],[1,"py-2","border-b","border-neutral-200","dark:border-neutral-400","text-left","text-xs","md:text-base","font-medium","text-neutral-700","dark:text-neutral-400"],["colspan","2",1,"py-2","border-b","border-neutral-200","dark:border-neutral-400","text-center","text-xs","md:text-base","font-medium","text-neutral-700","dark:text-neutral-400"],[1,"flex-1","overflow-y-auto"],[1,"w-full","table-fixed"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"py-2","px-3","border-b","border-neutral-200","dark:border-neutral-400","text-left","text-xs","md:text-base","text-neutral-900","dark:text-neutral-100"],[1,"py-2","border-b","border-neutral-200","dark:border-neutral-400","text-left","text-xs","md:text-base","text-neutral-900","dark:text-neutral-100"],["colspan","2",1,"py-2","border-b","border-neutral-200","dark:border-neutral-400","text-center","text-xs","md:text-base","text-neutral-900","dark:text-neutral-100","font-mono"],[1,"p-0.5","text-center","rounded-sm",3,"ngClass"]],template:function(t,n){t&1&&(r(0,"app-card",0)(1,"div",1),h(2,ta,1,2,"app-chip",2)(3,ia,1,2,"app-chip",2),a(),r(4,"div",3)(5,"table",4)(6,"thead",5)(7,"tr")(8,"th",6),s(9," ID "),a(),r(10,"th",7),s(11," Name "),a(),r(12,"th",8),s(13," Best "),a(),r(14,"th",8),s(15," AVG "),a(),r(16,"th",8),s(17," Last Sting AVG "),a()()()(),r(18,"div",9)(19,"table",10)(20,"tbody"),h(21,na,13,15,"tr",11),a()()()()()),t&2&&(c("initiallyOpen",!1),o(2),p(n.teamBestLapString()?2:-1),o(),p(n.bestPaceString()?3:-1),o(18),c("ngForOf",n.drivers()))},dependencies:[x,N,F,T],encapsulation:2})};function ra(i,e){if(i&1&&(r(0,"tr",12)(1,"td",13),s(2),a(),r(3,"td",14),s(4),a(),r(5,"td",15),s(6),a()()),i&2){let t=e.$implicit,n=u();o(2),w(t),o(2),w(n.getTeamName(t)),o(2),w(n.getLapMissingString(t))}}var Pt=class i{lapMissingService=d(ti);teamService=d($t);lapMissingCount=this.lapMissingService.lapMissingCount;lapMissingRaceNumber=g(()=>{let e=this.lapMissingService.lapMissingByRaceNumber();return Array.from(e.keys())});getTeamName(e){let t=this.teamService.teamNameByRaceNumber();return t.has(e)?t.get(e):""}getLapMissingString(e){let n=this.lapMissingService.lapMissingByRaceNumber().get(e);return n?n.join(", "):""}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=S({type:i,selectors:[["app-lap-missing"]],decls:17,vars:5,consts:[["title","\u23F1\uFE0F\u274C Lap missing",3,"initiallyOpen"],["slot","header-right-content",1,"flex","items-center","gap-1"],[3,"text","backgroundColor","bounceCondition"],["slot","body-content",1,"flex","flex-col","overflow-clip"],[1,"w-full","bg-neutral-50","dark:bg-neutral-800","table-fixed"],[1,"sticky","top-0"],[1,"py-2","border-b","border-neutral-200","dark:border-neutral-400","text-left","text-xs","md:text-base","font-medium","text-neutral-700","dark:text-neutral-400"],["colspan","2",1,"py-2","border-b","border-neutral-200","dark:border-neutral-400","text-left","text-xs","md:text-base","font-medium","text-neutral-700","dark:text-neutral-400"],["colspan","2",1,"py-2","border-b","border-neutral-200","dark:border-neutral-400","text-center","text-xs","md:text-base","font-medium","text-neutral-700","dark:text-neutral-400"],[1,"flex-1","overflow-y-auto"],[1,"w-full","table-fixed"],["class","hover:bg-neutral-100 dark:hover:bg-neutral-700",4,"ngFor","ngForOf"],[1,"hover:bg-neutral-100","dark:hover:bg-neutral-700"],[1,"py-2","px-3","border-b","border-neutral-200","dark:border-neutral-400","text-left","text-xs","md:text-base","text-neutral-900","dark:text-neutral-100"],["colspan","2",1,"py-2","px-3","border-b","border-neutral-200","dark:border-neutral-400","text-left","text-xs","md:text-base","text-neutral-900","dark:text-neutral-100"],["colspan","2",1,"py-2","px-3","border-b","border-neutral-200","dark:border-neutral-400","text-right","text-xs","md:text-base","text-neutral-900","dark:text-neutral-100"]],template:function(t,n){t&1&&(r(0,"app-card",0)(1,"div",1),f(2,"app-chip",2),a(),r(3,"div",3)(4,"table",4)(5,"thead",5)(6,"tr")(7,"th",6),s(8," Race number "),a(),r(9,"th",7),s(10," Name "),a(),r(11,"th",8),s(12," Lap missing "),a()()()(),r(13,"div",9)(14,"table",10)(15,"tbody"),h(16,ra,7,3,"tr",11),a()()()()()),t&2&&(c("initiallyOpen",!1),o(2),c("text",n.lapMissingCount()>0?"Lap Missing: "+n.lapMissingCount():"No lap missing!")("backgroundColor",n.lapMissingCount()>0?"bg-yellow-500":"bg-green-500")("bounceCondition",n.lapMissingCount()>0),o(14),c("ngForOf",n.lapMissingRaceNumber()))},dependencies:[x,N,T],encapsulation:2})};var Tt=class i{steeringWheelMessageUpdateService=d(oi);boxMessage={type:"box"};safetyCarMessage={type:"safety-car"};fastDriverBehindMessage={type:"fast-driver-behind"};sendBoxMessage(){this.steeringWheelMessageUpdateService.updateMessageType({type:"box"})}sendSafetyCarMessage(){this.steeringWheelMessageUpdateService.updateMessageType({type:"safety-car"})}sendFastDriverBehindMessage(){this.steeringWheelMessageUpdateService.updateMessageType({type:"fast-driver-behind"})}getBoxButtonBackgroundColor(){return qe(this.boxMessage)}getSafetyCarButtonBackgroundColor(){return qe(this.safetyCarMessage)}getFastDriverBehindButtonBackgroundColor(){return qe(this.fastDriverBehindMessage)}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=S({type:i,selectors:[["app-steering-wheel-message-button"]],decls:10,vars:7,consts:[["title","\u{1F94F}\u{1F4AC} Steering wheel message",3,"initiallyOpen"],["slot","body-content",1,"flex","flex-col","gap-2"],[1,"flex","justify-between"],[1,"text-white","font-bold","py-2","px-4","rounded-sm","hover:cursor-pointer",3,"click"]],template:function(t,n){t&1&&(r(0,"app-card",0)(1,"div",1)(2,"div",2)(3,"button",3),D("click",function(){return n.sendBoxMessage()}),s(4," BOX "),a(),r(5,"button",3),D("click",function(){return n.sendSafetyCarMessage()}),s(6," SAFETY CAR "),a()(),r(7,"div",2)(8,"button",3),D("click",function(){return n.sendFastDriverBehindMessage()}),s(9," FAST DRIVER BEHIND "),a()()()()),t&2&&(c("initiallyOpen",!0),o(3),Ae(n.getBoxButtonBackgroundColor()),o(2),Ae(n.getSafetyCarButtonBackgroundColor()),o(3),Ae(n.getFastDriverBehindButtonBackgroundColor()))},dependencies:[x],encapsulation:2})};function aa(i,e){i&1&&f(0,"app-timeline")}function oa(i,e){i&1&&f(0,"app-pit-lane")}function sa(i,e){i&1&&f(0,"app-tyre-pressure")}function la(i,e){i&1&&f(0,"app-fuel")}function da(i,e){i&1&&f(0,"app-kart")}function ca(i,e){i&1&&f(0,"app-interphone")}function ma(i,e){i&1&&f(0,"app-steering-wheel-message-button")}function pa(i,e){i&1&&f(0,"app-live-timing")}function ua(i,e){i&1&&f(0,"app-active-stint")}function fa(i,e){i&1&&f(0,"app-stint-optimizer")}function ga(i,e){i&1&&f(0,"app-delta-stint")}function va(i,e){i&1&&f(0,"app-lap-missing")}function ha(i,e){i&1&&f(0,"app-driver-change")}function ya(i,e){i&1&&f(0,"app-kart-change")}function ba(i,e){i&1&&f(0,"app-tyre-change")}function Ca(i,e){i&1&&f(0,"app-driver")}function Sa(i,e){i&1&&f(0,"app-driver-performance")}function xa(i,e){i&1&&f(0,"app-pit")}function Pa(i,e){i&1&&f(0,"app-stint")}var Ri=class i{titleService=d(Nt);boardConfigService=d(ye);fuelVisible=!0;pitLaneVisible=!0;tyreChangeVisible=!0;interphoneVisible=!0;driverChangeVisible=!0;pitVisible=!0;timelineVisible=!0;deltaStintVisible=!0;driverVisible=!0;stintVisible=!0;activeStintVisible=!0;stintOptimizerVisible=!0;kartChangeVisible=!0;kartVisible=!0;lapMissingVisible=!0;driverPerformanceVisible=!0;liveTimingVisible=!0;steeringWheelMessageButtonVisible=!0;tyrePressureVisible=!0;constructor(){this.titleService.setTitle("WBR"),oe(()=>{let e=this.boardConfigService.boardConfig();e&&(this.fuelVisible=e.fuelVisible,this.pitLaneVisible=e.pitLaneVisible,this.tyreChangeVisible=e.tyreChangeVisible,this.interphoneVisible=e.interphoneVisible,this.driverChangeVisible=e.driverChangeVisible,this.pitVisible=e.pitVisible,this.timelineVisible=e.timelineVisible,this.deltaStintVisible=e.deltaStintVisible,this.driverVisible=e.driverVisible,this.stintVisible=e.stintVisible,this.activeStintVisible=e.activeStintVisible,this.stintOptimizerVisible=e.stintOptimizerVisible,this.kartChangeVisible=e.kartChangeVisible,this.kartVisible=e.kartVisible,this.lapMissingVisible=e.lapMissingVisible,this.driverPerformanceVisible=e.driverPerformanceVisible,this.liveTimingVisible=e.liveTimingVisible,this.steeringWheelMessageButtonVisible=e.steeringWheelMessageButtonVisible,this.tyrePressureVisible=e.tyrePressureVisible)})}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=S({type:i,selectors:[["app-board"]],decls:31,vars:19,consts:[[1,"p-4","flex","flex-row","justify-between"],[1,"text-xl","md:text-3xl","dark:text-neutral-100","text-neutral-900","font-semibold"],[1,"mb-2"],[1,"mx-2","grid","grid-cols-1","lg:grid-cols-2","xl:grid-cols-3","gap-2"],[1,"flex","flex-col","md:h-fit","gap-2"]],template:function(t,n){t&1&&(r(0,"div",0)(1,"div",1),s(2,"\u{1F3CE}\uFE0F WBR \u{1F417}"),a(),f(3,"app-navigator"),a(),r(4,"div",2),f(5,"app-race"),a(),r(6,"div",2),f(7,"app-race-button"),a(),h(8,aa,1,0,"app-timeline"),r(9,"div",3)(10,"div",4),h(11,oa,1,0,"app-pit-lane")(12,sa,1,0,"app-tyre-pressure")(13,la,1,0,"app-fuel")(14,da,1,0,"app-kart")(15,ca,1,0,"app-interphone"),a(),r(16,"div",4),h(17,ma,1,0,"app-steering-wheel-message-button")(18,pa,1,0,"app-live-timing")(19,ua,1,0,"app-active-stint")(20,fa,1,0,"app-stint-optimizer")(21,ga,1,0,"app-delta-stint")(22,va,1,0,"app-lap-missing"),a(),r(23,"div",4),h(24,ha,1,0,"app-driver-change")(25,ya,1,0,"app-kart-change")(26,ba,1,0,"app-tyre-change")(27,Ca,1,0,"app-driver")(28,Sa,1,0,"app-driver-performance")(29,xa,1,0,"app-pit")(30,Pa,1,0,"app-stint"),a()()),t&2&&(o(8),p(n.timelineVisible?8:-1),o(3),p(n.pitLaneVisible?11:-1),o(),p(n.tyrePressureVisible?12:-1),o(),p(n.fuelVisible?13:-1),o(),p(n.kartVisible?14:-1),o(),p(n.interphoneVisible?15:-1),o(2),p(n.steeringWheelMessageButtonVisible?17:-1),o(),p(n.liveTimingVisible?18:-1),o(),p(n.activeStintVisible?19:-1),o(),p(n.stintOptimizerVisible?20:-1),o(),p(n.deltaStintVisible?21:-1),o(),p(n.lapMissingVisible?22:-1),o(2),p(n.driverChangeVisible?24:-1),o(),p(n.kartChangeVisible?25:-1),o(),p(n.tyreChangeVisible?26:-1),o(),p(n.driverVisible?27:-1),o(),p(n.driverPerformanceVisible?28:-1),o(),p(n.pitVisible?29:-1),o(),p(n.stintVisible?30:-1))},dependencies:[$e,et,tt,it,rt,ot,st,lt,dt,pt,ut,ft,gt,vt,yt,bt,Zt,Ct,St,xt,Pt,Tt],encapsulation:2})};export{Ri as BoardComponent};
