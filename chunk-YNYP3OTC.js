import{a as f}from"./chunk-IGED4TOA.js";import{M as s,aa as c,ba as d}from"./chunk-Q6UHPJXR.js";import{N as n,R as o,sa as a,t as r}from"./chunk-7TD4AYMG.js";var l=class e extends f{collectionPath="/driver-configs";collectionRef=d(this.firestore,this.collectionPath);driverConfig=a(void 0);constructor(){super(),this.getAll().pipe(s()).subscribe(t=>{t.length>0&&this.driverConfig.set(t.at(0))})}updateMinDriverChange(t){let i=this.driverConfig();i&&(i.minDriverChange=t,this.updateDataWithMessage(i.id,i,"min driver change"))}updateMinDriverOnTrackMinute(t){let i=this.driverConfig();i&&(i.minDriverOnTrackMinute=t,this.updateDataWithMessage(i.id,i,"min driver on track minute"))}updateMaxDriverOnTrackMinute(t){let i=this.driverConfig();i&&(i.maxDriverOnTrackMinute=t,this.updateDataWithMessage(i.id,i,"max driver on track minute"))}updateWarningDriverOnTrackThresholdMinute(t){let i=this.driverConfig();i&&(i.warningDriverOnTrackThresholdMinute=t,this.updateDataWithMessage(i.id,i,"warning driver on track threshold minute"))}getAll(){return c(this.collectionRef).pipe(n(this.destroyed),r(t=>t.map(i=>i).filter(i=>!i.deleted)))}static \u0275fac=function(i){return new(i||e)};static \u0275prov=o({token:e,factory:e.\u0275fac,providedIn:"root"})};var p=class e extends f{collectionPath="/pit-configs";collectionRef=d(this.firestore,this.collectionPath);pitConfig=a(void 0);constructor(){super(),this.getAll().pipe(s()).subscribe(t=>{t.length>0&&this.pitConfig.set(t.at(0))})}updateMinPitSeconds(t){let i=this.pitConfig();i&&(i.minPitSeconds=t,this.updateDataWithMessage(i.id,i,"min pit seconds"))}updateMinPitWithTyreChangeSeconds(t){let i=this.pitConfig();i&&(i.minPitWithTyreChangeSeconds=t,this.updateDataWithMessage(i.id,i,"min pit with tyre change seconds"))}updateMinTotalPitMinute(t){let i=this.pitConfig();i&&(i.minTotalPitMinute=t,this.updateDataWithMessage(i.id,i,"min total pit minute"))}updateMaxPitSeconds(t){let i=this.pitConfig();i&&(i.maxPitSeconds=t,this.updateDataWithMessage(i.id,i,"max pit seconds"))}getAll(){return c(this.collectionRef).pipe(n(this.destroyed),r(t=>t.map(i=>i).filter(i=>!i.deleted)))}static \u0275fac=function(i){return new(i||e)};static \u0275prov=o({token:e,factory:e.\u0275fac,providedIn:"root"})};export{l as a,p as b};
