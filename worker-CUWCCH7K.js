var I=Math.pow(10,8)*24*60*60*1e3,C=-I;var s=6e4;var g=3600;var u=g*24,P=u*7,M=u*365.2425,y=M/12,B=y*3,c=Symbol.for("constructDateFrom");function f(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&c in t?t[c](e):t instanceof Date?new t.constructor(e):new Date(e)}function r(t,e){return f(e||t,t)}function m(t,e,o){let n=r(t,o?.in);return n.setTime(n.getTime()+e*s),n}function p(t){return e=>{let n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function d(t,e){return+r(t)-+r(e)}function x(t,e,o){let n=d(t,e)/s;return p(o?.roundingMethod)(n)}addEventListener("message",({data:t})=>{let e=t.lastInterphoneChangePit,o=t.race,n=t.raceConfig,i=D(e,o),a=h(i,n),l=R(a,n);postMessage({lastChangeDate:i,emptyBatteryDate:a,remainingBatteryPercentage:l})});function D(t,e){if(t?.exitAt)return t.exitAt;if(e)return e.startedAt}function h(t,e){if(t)return m(t,e.interphoneBatteryDurationMinute)}function R(t,e){if(t&&e){let n=x(t,new Date)/e.interphoneBatteryDurationMinute*100,i=Math.max(0,Math.min(n,100));return parseFloat(i.toFixed(0))}return 100}
