{
  "version": 3,
  "sources": ["src/app/stint/service/delta-stint.worker.ts"],
  "sourcesContent": ["/// <reference lib=\"webworker\" />\n\nimport { Stint } from \"../model/stint\";\nimport { DeltaStint } from \"../model/delta-stint\";\n\naddEventListener('message', ({ data }) => {\n  const stints = data.stints as Stint[];\n\n  const deltaStints = createDeltaStints(stints)\n\n  const totalDeltaMilliseconds = deltaStints.reduce((accumulator, currentValue) => accumulator + currentValue.delta, 0);\n  const deltaMilliseconds = createDeltaStints(filterCompletedStints(stints)).reduce((accumulator, currentValue) => accumulator + currentValue.delta, 0);\n\n  postMessage({\n    deltaStints: deltaStints,\n    totalDeltaMilliseconds: totalDeltaMilliseconds,\n    deltaMilliseconds: deltaMilliseconds,\n  });\n});\n\nfunction filterCompletedStints(stints: Stint[]): Stint[] {\n  return stints.filter(stint => stint.endedAt !== null);\n}\n\nfunction createDeltaStints(stints: Stint[]): DeltaStint[] {\n  const result: DeltaStint[] = [];\n  stints.forEach(stint => {\n    result.push(createDeltaStint(stint));\n  })\n  return result;\n}\n\nfunction createDeltaStint(stint: Stint): DeltaStint {\n  const endDate: Date = stint.endedAt ? stint.endedAt : new Date();\n  const timeOnTrack: number = endDate.getTime() - stint.startedAt.getTime();\n  const delta = timeOnTrack - stint.optimizedMilliseconds;\n\n  return {\n    id: stint.id,\n    delta: delta,\n    optimum: stint.optimizedMilliseconds,\n    timeOnTrack: timeOnTrack\n  }\n}\n"],
  "mappings": ";AAKA,iBAAiB,WAAW,CAAC,EAAE,KAAK,MAAM;AACxC,QAAM,SAAS,KAAK;AAEpB,QAAM,cAAc,kBAAkB,MAAM;AAE5C,QAAM,yBAAyB,YAAY,OAAO,CAAC,aAAa,iBAAiB,cAAc,aAAa,OAAO,CAAC;AACpH,QAAM,oBAAoB,kBAAkB,sBAAsB,MAAM,CAAC,EAAE,OAAO,CAAC,aAAa,iBAAiB,cAAc,aAAa,OAAO,CAAC;AAEpJ,cAAY;AAAA,IACV;AAAA,IACA;AAAA,IACA;AAAA,EACF,CAAC;AACH,CAAC;AAED,SAAS,sBAAsB,QAA0B;AACvD,SAAO,OAAO,OAAO,WAAS,MAAM,YAAY,IAAI;AACtD;AAEA,SAAS,kBAAkB,QAA+B;AACxD,QAAM,SAAuB,CAAC;AAC9B,SAAO,QAAQ,WAAS;AACtB,WAAO,KAAK,iBAAiB,KAAK,CAAC;AAAA,EACrC,CAAC;AACD,SAAO;AACT;AAEA,SAAS,iBAAiB,OAA0B;AAClD,QAAM,UAAgB,MAAM,UAAU,MAAM,UAAU,oBAAI,KAAK;AAC/D,QAAM,cAAsB,QAAQ,QAAQ,IAAI,MAAM,UAAU,QAAQ;AACxE,QAAM,QAAQ,cAAc,MAAM;AAElC,SAAO;AAAA,IACL,IAAI,MAAM;AAAA,IACV;AAAA,IACA,SAAS,MAAM;AAAA,IACf;AAAA,EACF;AACF;",
  "names": []
}
