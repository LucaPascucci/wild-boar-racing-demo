addEventListener("message",({data:n})=>{let m=n.virtualLastCumulatedTimeByRaceNumber,a=n.remainingPitTimeMillisecondsByRaceNumber,t=i(m,a);postMessage({virtualRacePositionByRaceNumber:t})});function i(n,m){let a=new Map,t=Array.from(n.keys()),u=new Map;for(let e of t){let r=n.get(e),s=m.get(e)||0;r&&u.set(e,r+s)}return Array.from(u.entries()).sort(([,e],[,r])=>e-r).map(([e])=>e).forEach((e,r)=>{a.set(e,r+1)}),a}
